<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-01-23">

<title>ISSS608 - DataViz Makeover</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-PKMQ2W4ZRC"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-PKMQ2W4ZRC', { 'anonymize_ip': true});
</script>

<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="../../styles.css">
<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands-on Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercises">    
        <li>
    <a class="dropdown-item" href="../../handsOn_ex1.html">
 <span class="dropdown-text">Ex[1] DataVis with ggplot2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../handsOn_ex2.html">
 <span class="dropdown-text">Ex[2] DataVis with Advanced ggplot2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../handsOn_ex3.html">
 <span class="dropdown-text">Ex[3] Programming Interactive Data Visualisation</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">In-class Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercises">    
        <li>
    <a class="dropdown-item" href="https://public.tableau.com/shared/5GXCKXPQD?:display_count=n&amp;:origin=viz_share_link">
 <span class="dropdown-text">Ex[1] S &amp; P Summary with Tableau</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../inClass/inClass_ex03/inClass_ex3.html">
 <span class="dropdown-text">Ex[3] Programming Interactive Data Visualisation</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take-home Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercises">    
        <li>
    <a class="dropdown-item" href="../../takeHome/th_ex1/th_ex1.html">
 <span class="dropdown-text">Ex[1] Trellis Population Pyramids</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../takeHome/th_ex2/th_ex2.html">
 <span class="dropdown-text">Ex[1] DataViz Makeover for Trellis Population Pyramids</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-workshop--notes" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Workshop &amp; Notes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-workshop--notes">    
        <li>
    <a class="dropdown-item" href="../../pnote/bsw_3.html">
 <span class="dropdown-text">BSWorkshop - Programming Statistical Graphics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/bsw_4.html">
 <span class="dropdown-text">BSWorkshop - Build Statistical Model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/bsw_5.html">
 <span class="dropdown-text">BSWorkshop - Build Predictive Model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/bsw_6.html">
 <span class="dropdown-text">BSWorkshop - Finance Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tskam.shinyapps.io/prototype-ShinyIDEA/">
 <span class="dropdown-text">Shiny Workshop - Prof’s Prototype</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/test0.html">
 <span class="dropdown-text">Exploration 0 - Explore with Geospatial Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/test1.html">
 <span class="dropdown-text">Exploration 1 - Pareto Chart</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/test2.html">
 <span class="dropdown-text">Exploration 2 - Pyramid &amp; Other Charts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/test3.html">
 <span class="dropdown-text">Exploration 3 - Interactive &amp; Animated Pyramid Chart</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/test4.html">
 <span class="dropdown-text">Exploration 4 - Interactive Heatmap Chart</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/test5.html">
 <span class="dropdown-text">Exploration 5 - Time-Series Visualisation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/note1.html">
 <span class="dropdown-text">Personal Note</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/tableauNote.html">
 <span class="dropdown-text">Tableau Note</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">Profile</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><strong>1. OVERVIEW</strong></a>
  <ul class="collapse">
  <li><a href="#review-original-chart" id="toc-review-original-chart" class="nav-link" data-scroll-target="#review-original-chart"><strong>1.1 Review Original Chart</strong></a></li>
  <li><a href="#proposal-for-alternative-design" id="toc-proposal-for-alternative-design" class="nav-link" data-scroll-target="#proposal-for-alternative-design"><strong>1.2 Proposal for Alternative Design</strong></a>
  <ul class="collapse">
  <li><a href="#sketch-for-alternate-design" id="toc-sketch-for-alternate-design" class="nav-link" data-scroll-target="#sketch-for-alternate-design"><strong>1.2.1 Sketch for Alternate Design</strong></a></li>
  <li><a href="#clarity-enhancement" id="toc-clarity-enhancement" class="nav-link" data-scroll-target="#clarity-enhancement"><strong>1.2.1 Clarity Enhancement</strong></a></li>
  <li><a href="#aesthetic-enhancement" id="toc-aesthetic-enhancement" class="nav-link" data-scroll-target="#aesthetic-enhancement"><strong>1.2.2 Aesthetic Enhancement</strong></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#r-package-required" id="toc-r-package-required" class="nav-link" data-scroll-target="#r-package-required"><strong>2. R PACKAGE REQUIRED</strong></a>
  <ul class="collapse">
  <li><a href="#load-r-packages" id="toc-load-r-packages" class="nav-link" data-scroll-target="#load-r-packages"><strong>2.1 Load R Packages</strong></a></li>
  </ul></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data"><strong>3. DATA</strong></a>
  <ul class="collapse">
  <li><a href="#acquire-data-source" id="toc-acquire-data-source" class="nav-link" data-scroll-target="#acquire-data-source"><strong>3.1 Acquire Data Source</strong></a></li>
  <li><a href="#import-data" id="toc-import-data" class="nav-link" data-scroll-target="#import-data"><strong>3.2 Import Data</strong></a>
  <ul class="collapse">
  <li><a href="#import-attributes-data" id="toc-import-attributes-data" class="nav-link" data-scroll-target="#import-attributes-data"><strong>3.2.1 Import Attributes Data</strong></a></li>
  </ul></li>
  <li><a href="#data-wrangling" id="toc-data-wrangling" class="nav-link" data-scroll-target="#data-wrangling"><strong>3.3 Data Wrangling</strong></a>
  <ul class="collapse">
  <li><a href="#change-field-names-to-lowercase" id="toc-change-field-names-to-lowercase" class="nav-link" data-scroll-target="#change-field-names-to-lowercase"><strong>3.3.1 Change Field Names to Lowercase</strong></a></li>
  <li><a href="#remove-non-alphameric-character" id="toc-remove-non-alphameric-character" class="nav-link" data-scroll-target="#remove-non-alphameric-character"><strong>3.3.2 Remove Non-Alphameric Character</strong></a></li>
  </ul></li>
  <li><a href="#group-variables" id="toc-group-variables" class="nav-link" data-scroll-target="#group-variables"><strong>3.4 Group Variables</strong></a>
  <ul class="collapse">
  <li><a href="#explore-with-a-planning-area-bedok" id="toc-explore-with-a-planning-area-bedok" class="nav-link" data-scroll-target="#explore-with-a-planning-area-bedok"><strong>3.4.1 Explore with a Planning Area :: Bedok</strong></a></li>
  <li><a href="#visualise-data" id="toc-visualise-data" class="nav-link" data-scroll-target="#visualise-data"><strong>3.4.2 Visualise Data</strong></a></li>
  <li><a href="#update-sequence-of-age-groups-display" id="toc-update-sequence-of-age-groups-display" class="nav-link" data-scroll-target="#update-sequence-of-age-groups-display"><strong>3.4.3 Update Sequence of Age Groups Display</strong></a></li>
  </ul></li>
  <li><a href="#create-9-planning-areas-data-set" id="toc-create-9-planning-areas-data-set" class="nav-link" data-scroll-target="#create-9-planning-areas-data-set"><strong>3.5 Create 9 Planning Areas Data Set</strong></a>
  <ul class="collapse">
  <li><a href="#create-list-of-planning-areas-by-population" id="toc-create-list-of-planning-areas-by-population" class="nav-link" data-scroll-target="#create-list-of-planning-areas-by-population"><strong>3.5.1 Create List of Planning Areas by Population</strong></a></li>
  <li><a href="#filter-planning-areas" id="toc-filter-planning-areas" class="nav-link" data-scroll-target="#filter-planning-areas"><strong>3.5.2 Filter Planning Areas</strong></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#data-visualisation" id="toc-data-visualisation" class="nav-link" data-scroll-target="#data-visualisation"><strong>4. DATA VISUALISATION</strong></a>
  <ul class="collapse">
  <li><a href="#plot-pyramid-chart-static-plot" id="toc-plot-pyramid-chart-static-plot" class="nav-link" data-scroll-target="#plot-pyramid-chart-static-plot"><strong>4.1 Plot Pyramid Chart (Static Plot)</strong></a>
  <ul class="collapse">
  <li><a href="#plot-population-pyramid-for-national-level" id="toc-plot-population-pyramid-for-national-level" class="nav-link" data-scroll-target="#plot-population-pyramid-for-national-level"><strong>4.1.1 Plot Population Pyramid for National Level</strong></a></li>
  <li><a href="#plot-trellis-population-pyramid-with-wrap-facet" id="toc-plot-trellis-population-pyramid-with-wrap-facet" class="nav-link" data-scroll-target="#plot-trellis-population-pyramid-with-wrap-facet"><strong>4.1.2 Plot Trellis Population Pyramid with Wrap Facet</strong></a></li>
  <li><a href="#plot-trellis-population-pyramid-with-grid-facet" id="toc-plot-trellis-population-pyramid-with-grid-facet" class="nav-link" data-scroll-target="#plot-trellis-population-pyramid-with-grid-facet"><strong>4.1.3</strong> <strong>Plot Trellis Population Pyramid with Grid Facet</strong></a></li>
  </ul></li>
  <li><a href="#explore-other-approach" id="toc-explore-other-approach" class="nav-link" data-scroll-target="#explore-other-approach"><strong>4.2 Explore Other Approach</strong></a>
  <ul class="collapse">
  <li><a href="#approach-1---stack-multiple-grid-facets" id="toc-approach-1---stack-multiple-grid-facets" class="nav-link" data-scroll-target="#approach-1---stack-multiple-grid-facets"><strong>4.2.1 Approach #1 - Stack Multiple Grid Facets</strong></a></li>
  <li><a href="#approach-2---patch-1-chart-with-1-data-table" id="toc-approach-2---patch-1-chart-with-1-data-table" class="nav-link" data-scroll-target="#approach-2---patch-1-chart-with-1-data-table"><strong>4.2.2 Approach #2 - Patch 1 chart with 1 data table</strong></a></li>
  <li><a href="#approach-3---split-data-table-to-smaller-tables-before-patch-with-1-chart" id="toc-approach-3---split-data-table-to-smaller-tables-before-patch-with-1-chart" class="nav-link" data-scroll-target="#approach-3---split-data-table-to-smaller-tables-before-patch-with-1-chart"><strong>4.2.3 Approach #3 - Split data table to smaller tables before patch with 1 chart</strong></a></li>
  <li><a href="#approach-4---same-as-approach-3-but-with-kableextra-package" id="toc-approach-4---same-as-approach-3-but-with-kableextra-package" class="nav-link" data-scroll-target="#approach-4---same-as-approach-3-but-with-kableextra-package"><strong>4.2.4 Approach #4 - Same as Approach #3 but with kableExtra package</strong></a></li>
  <li><a href="#approach-5-combine-chart-with-ggpubr-tables" id="toc-approach-5-combine-chart-with-ggpubr-tables" class="nav-link" data-scroll-target="#approach-5-combine-chart-with-ggpubr-tables"><strong>4.2.5 Approach #5</strong> Combine chart with ggpubr tables</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#makeover-submission" id="toc-makeover-submission" class="nav-link" data-scroll-target="#makeover-submission"><strong>5. MAKEOVER SUBMISSION</strong></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DataViz Makeover</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 23, 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">February 1, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="overview" class="level1">
<h1><strong>1. OVERVIEW</strong></h1>
<p>There are two main focuses for this makeover assignment, that is :</p>
<ol type="1">
<li>Critic or feedback on the trellis plot of 9 population pyramids created by a fellow coursemate, <a href="https://public.tableau.com/app/profile/yiman.chen/viz/takehome_ex01/Story1">Chen Yi Man</a>, with consent.</li>
<li>Remake and refine the trellis plot with an alternative design based on the principles and best practices learned in Lessons 1 and 2, using R packages, specifically ggplot2, ggplot2 extensions and tidyverse packages.</li>
</ol>
<div class="callout-tip callout callout-style-simple no-icon callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
<span style="color:#3a9c88"><strong>Requirement Details for this Individual Assignment</strong></span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li><p>select one of the Take-home Exercise 1 prepared by your classmate,</p></li>
<li><p>critic the submission in terms of clarity and aesthetics,</p></li>
<li><p>prepare a sketch for the alternative design by using the data visualisation design principles and best practices you had learned in Lesson 1 and 2, and remake the original design by using ggplot2, ggplot2 extensions and tidyverse packages.</p></li>
</ul>
<p><span style="color:#d69c3c">The purpose of DataVis Makeover is to improve on the original visualisation. Focus on what works, what doesn’t work, why those things don’t work, and how you made it better. You should try stick to the fields in the data set provided and improve upon the original visualisation.</span></p>
</div>
</div>
</div>
<section id="review-original-chart" class="level2">
<h2 class="anchored" data-anchor-id="review-original-chart"><strong>1.1 Review Original Chart</strong></h2>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>There are two main instructions for the first take-home exercise, which are to reveal the demographic structure of Singapore at the planning area level by using the age-sex pyramid method and displaying 9 selected planning areas on a single view.</p>
<p>For this section, the review will be based on clarity and aesthetics.</p>
<section id="highlights-of-exceptional-elements" class="level3">
<h3 class="anchored" data-anchor-id="highlights-of-exceptional-elements">Highlights of Exceptional Elements</h3>
<p>Within a short amount of time (less than a week), for a person totally new to Tableau, she was able to deliver an inspiring piece of work in the following aspects :</p>
<ul>
<li><p>Three (3) different depths - an overview of Singapore at a national level, followed by Singapore Planning Areas (PAs) and Sub Zones for each PA.</p></li>
<li><p>Compliment the storytelling with a degree of geospatial visual analysis.</p></li>
<li><p>Provide interactive features that facilitate visual analysis of the topic.</p></li>
</ul>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="https://public.tableau.com/shared/FRQBJR92T?:display_count=n&amp;:origin=viz_share_link"><img src="images/image-30154142.png" class="img-fluid figure-img" alt="This image illustrate an overview of Singapore Population Pyramid that produced by Tableau Desktop." width="400"></a></p>
<p></p><figcaption class="figure-caption">Figure 1.1 Landing view with an overview of Singapore Population Pyramid.</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="https://public.tableau.com/shared/FRQBJR92T?:display_count=n&amp;:origin=viz_share_link"><img src="images/image-1612659243.png" class="img-fluid figure-img" alt="This image illustrate the population pyramid for 55 Planning Area." width="400"></a></p>
<p></p><figcaption class="figure-caption">Figure 1.2 Display trellis plot of Singapore Population Pyramids by 55 Planning Area.</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="https://public.tableau.com/shared/HG56JW8NK?:display_count=n&amp;:origin=viz_share_link"><img src="images/image-101707983.png" class="img-fluid figure-img" alt="This image illustrate the population pyramid for all sub-zones within each 55 Singapore Planning Areas." width="400"></a></p>
<p></p><figcaption class="figure-caption">Figure 1.3 Display trellis plot of Singapore Population Pyramids by subzone.</figcaption><p></p>
</figure>
</div>
</section>
<section id="rooms-for-improvement" class="level3">
<h3 class="anchored" data-anchor-id="rooms-for-improvement"><strong>Rooms for Improvement</strong></h3>
<p>However, in terms of clarity and aesthetic aspects, there are four (4) main rooms for improvement :</p>
<section id="a.-lack-of-clarity" class="level4">
<h4 class="anchored" data-anchor-id="a.-lack-of-clarity"><strong>a. Lack of clarity</strong></h4>
<table class="table">
<colgroup>
<col style="width: 39%">
<col style="width: 30%">
<col style="width: 29%">
</colgroup>
<thead>
<tr class="header">
<th>what doesn’t work</th>
<th>feedback</th>
<th>suggestion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Choice of words for the title.</p>
<p>“Discovering Singapore Age Pyramid: Sex Pattern in Jun 2022”</p></td>
<td><p>The title is not conveying clear context.</p>
<ul>
<li>Readers may be mislead into the notion of this chart is based on age-related variable with sex-related value as the response variable.</li>
<li>The confusion is further enhanced by the colon character ” : “.</li>
</ul></td>
<td><p>Suggest stating the key focus upfront.</p>
<ul>
<li>In this study, the key focus is the pattern, then followed by the supporting details such as the variables, location and time.</li>
<li>For example, “Discover Patterns of Age and Gender distribution in Singapore as of June 2022”.</li>
</ul></td>
</tr>
<tr class="even">
<td>The sequence of additional storyboards (landing storyboard consists of a Singapore map and a population pyramid, while the last storyboard consists of a trellis plot by sub-zones.</td>
<td>The entire approach may distract readers from the trellis plot of 9 selected PAs, which should be the main focus.</td>
<td><p>Perhaps can reduce the storyboards to two, meaning :</p>
<ul>
<li><p>Combine both overview and the trellis plot of 9 selected PAs into a storyboard</p></li>
<li><p>The storyboard of the trellis for subzones can remains the same.</p></li>
</ul></td>
</tr>
</tbody>
</table>
</section>
<section id="b.-trellis-layout-of-55-pas" class="level4">
<h4 class="anchored" data-anchor-id="b.-trellis-layout-of-55-pas"><strong>b. Trellis layout of 55 PAs</strong></h4>
<table class="table">
<colgroup>
<col style="width: 15%">
<col style="width: 48%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>what doesn’t work</th>
<th>feedback</th>
<th>suggestion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Display 55 PAs’ population pyramids.</td>
<td><p>For a static plot, readers won’t be able to view 55 PA’s population pyramids plotted diagonally within a single view.</p>
<p>Even if it’s an interactive plot, a filter of 9 PAs should have been provided to the readers.</p></td>
<td><p>First, filter 9 PAs by context before plotting them into a single view.</p>
<ul>
<li>For example, the top 9 highest population count or the gender-population count.</li>
</ul></td>
</tr>
</tbody>
</table>
</section>
<section id="c.-lack-of-visual-cues-or-display-by-context" class="level4">
<h4 class="anchored" data-anchor-id="c.-lack-of-visual-cues-or-display-by-context"><strong>c.&nbsp;Lack of Visual Cues or Display by Context</strong></h4>
<table class="table">
<thead>
<tr class="header">
<th>what doesn’t work</th>
<th>feedback</th>
<th>suggestion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Single colour for 2 different values, “Males” and “Females”.</td>
<td>Unless viewed from 15-inch laptops or a bigger monitor screen, a reader can only identify which side of the bars represents males or females after scrolling down the screen.</td>
<td>Assign 2 different colours for the gender variable.</td>
</tr>
<tr class="even">
<td>Age group is showing “Null” value, and grouped age into 10 years intervals.</td>
<td><p>No caption or note to clarify “Null” value.</p>
<p>Context is not clear why the age is grouped into 10 years.</p></td>
<td><p>For demographic structure, should use quinquennial age groups (grouped age in 5 years intervals).</p>
<ul>
<li>Click <a href="https://visual-analytics-jephostan.netlify.app/takehome/th_ex1/th_ex1#bins-of-age-group">here</a> to find out more about ages grouping for different contexts.</li>
</ul></td>
</tr>
</tbody>
</table>
</section>
</section>
</div>
</div>
</div>
</section>
<section id="proposal-for-alternative-design" class="level2">
<h2 class="anchored" data-anchor-id="proposal-for-alternative-design"><strong>1.2 Proposal for Alternative Design</strong></h2>
<section id="sketch-for-alternate-design" class="level3">
<h3 class="anchored" data-anchor-id="sketch-for-alternate-design"><strong>1.2.1 Sketch for Alternate Design</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="images/image-1080407652.png" class="img-fluid figure-img" alt="This image illustrate a sketch that consists of trellis plot with wrap facet and a data table placed below." width="800"></p>
<p></p><figcaption class="figure-caption">Figure 1.4 Proposal for Alternative Design</figcaption><p></p>
</figure>
</div>
<p>Remarks :</p>
<p>This proposal sketch is done with <strong>Figma</strong> web-tool.</p>
</div>
</div>
</div>
</section>
<section id="clarity-enhancement" class="level3">
<h3 class="anchored" data-anchor-id="clarity-enhancement"><strong>1.2.1 Clarity Enhancement</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><strong><em>a. Context</em></strong> <strong>:</strong> The proposed design will inherit the context requirement from the first Take-home assignment, which is to reveal Singapore’s demographic structure with two key variables : age-groups and gender as of June 2022. It will be a trellis plot of population pyramids with wrap facet 3 by 3. The top 9 Singapore Planning Areas with the highest population counts.</p>
<p><strong><em>b. Title &amp; Subtitle</em></strong> <strong>:</strong> The proposed design has a title consisting of the main subject, supporting details and location, while the variables and time will be under the subtitle.</p>
<p><strong><em>c.X-axis Label</em></strong> <strong>:</strong> Only show the x-axis title below the chart. The population count value will be hidden as the proportion of values to bars are too huge to be meaningful. Should the readers interested to learn more about the figures, they can refer to the data table that presenting below the plot.</p>
<p><strong><em>d.&nbsp;Y-axis Title &amp; Text</em></strong> <strong>:</strong> Y-axis title will be displayed above the axis instead of next to the value. The age-group values will need to be sorted with the oldest at the top.</p>
<p><strong><em>e. Legend</em></strong> <strong>:</strong> Only the genders’ values will be displayed, which are “Males” and “Females”.</p>
<p><strong><em>f.&nbsp;Caption</em></strong> <strong>:</strong> It will state the data source and the year of data obtained.</p>
</div>
</div>
</div>
</section>
<section id="aesthetic-enhancement" class="level3">
<h3 class="anchored" data-anchor-id="aesthetic-enhancement"><strong>1.2.2 Aesthetic Enhancement</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><strong><em>a. X-axis labels</em></strong> <strong>:</strong>&nbsp;Only the x-axis title is shown to minimise clustering the chart with figures.</p>
<p><strong><em>b. Tick marks &amp; background border lines</em></strong>&nbsp;<strong>:</strong>&nbsp;The colours thereof will be “mid-grey” to focus readers more on the bars.</p>
<p><strong><em>c.&nbsp;Gridlines</em></strong>&nbsp;: Only display horizontal grid lines since identifying the bars’ length from a static plot is not practical.</p>
<p><strong><em>(d) Colour</em></strong>&nbsp;: A pair of high-contrast colours will be assigned to the gender values. Titles and subtitles will be in various shades of grey.</p>
<p><strong><em>(e) Font size:</em></strong>&nbsp;The font size of the main title will be more prominent than the sub-title. This will help to set the reader’s focus on the right context when analysing the chart.</p>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="r-package-required" class="level1">
<h1><strong>2. R PACKAGE REQUIRED</strong></h1>
<p>The following are the packages required for this exercise :</p>
<section id="load-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="load-r-packages"><strong>2.1 Load R Packages</strong></h2>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>p_load( )</em></strong> - pacman -</span> to load packages into R environment. This function will attempt to install the package from CRAN or pacman repository list if it is not installed.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, ggpubr, readxl, knitr, plotly, skimr, questionr, funModeling, ggplot2, sf, tmap, quanteda, NLP, patchwork, ggpmisc, gridExtra, kableExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="data" class="level1 page-columns page-full">
<h1><strong>3. DATA</strong></h1>
<section id="acquire-data-source" class="level2">
<h2 class="anchored" data-anchor-id="acquire-data-source"><strong>3.1 Acquire Data Source</strong></h2>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>This study will be based on demographic data set downloadable from <a href="https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data">Singstat.gov.sg</a>.</p>
<ul>
<li>Download “Singapore Residents by Planning Area Subzone, Age Group, Sex and Type of Dwelling, June 2022” in CSV format.</li>
</ul>
<div class="callout-tip callout callout-style-simple no-icon callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
<span style="color:#3a9c88"><strong>Highlights of the data set</strong></span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Data may not add up due to rounding.</p></li>
<li><p>For June 2022, Planning Areas refer to areas demarcated in the Urban Redevelopment Authority’s Master Plan 2019.</p></li>
<li><p>Data from 2003 onwards exclude residents who have been away from Singapore for a continuous period of 12 months or longer as at the reference period.</p></li>
<li><p>Metadata :</p>
<ul>
<li><p>PA = Planning Area</p></li>
<li><p>SZ = Subzone</p></li>
<li><p>AG = Age Group</p></li>
<li><p>Sex = Sex</p></li>
<li><p>TOD = Type of Dwelling</p></li>
<li><p>Pop = Resident Count</p></li>
<li><p>Time - Time / Period</p></li>
</ul></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="import-data" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="import-data"><strong>3.2 Import Data</strong></h2>
<section id="import-attributes-data" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="import-attributes-data"><strong>3.2.1 Import Attributes Data</strong></h3>
<div class="callout-warning column-page-right callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>There are two (2) steps involve, which are import and inspect imported data set.</p>
<section id="import-data-1" class="level4">
<h4 class="anchored" data-anchor-id="import-data-1"><strong>3.2.1.1 import data</strong></h4>
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>read_csv( )</em></strong> - readr -</span> to read CSV file into a tibble.</p>
<p><span style="color:#d46e15"><strong><em>problems( )</em></strong> - readr -</span> to reveal any parsing errors when importing the CSV file.</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pop_attribute <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/aspatial/respopagesextod2022.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">problems</span>(pop_attribute)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 5
# … with 5 variables: row &lt;int&gt;, col &lt;int&gt;, expected &lt;chr&gt;, actual &lt;chr&gt;,
#   file &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="inspect-missing-value" class="level4">
<h4 class="anchored" data-anchor-id="inspect-missing-value"><strong>3.2.1.2 inspect missing value</strong></h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(pop_attribute)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table style="width: auto;" class="table table-condensed">
<caption>
Data summary
</caption>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
pop_attribute
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of rows
</td>
<td style="text-align:left;">
100928
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of columns
</td>
<td style="text-align:left;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
_______________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Column type frequency:
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
________________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Group variables
</td>
<td style="text-align:left;">
None
</td>
</tr>
</tbody>

</table>
<p><strong>Variable type: character</strong></p>

<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
min
</th>
<th style="text-align:right;">
max
</th>
<th style="text-align:right;">
empty
</th>
<th style="text-align:right;">
n_unique
</th>
<th style="text-align:right;">
whitespace
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
PA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
SZ
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
332
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
AG
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Sex
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
TOD
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>

</table>
<p><strong>Variable type: numeric</strong></p>

<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
p0
</th>
<th style="text-align:right;">
p25
</th>
<th style="text-align:right;">
p50
</th>
<th style="text-align:right;">
p75
</th>
<th style="text-align:right;">
p100
</th>
<th style="text-align:left;">
hist
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pop
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
40.44
</td>
<td style="text-align:right;">
125.73
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
2300
</td>
<td style="text-align:left;">
▇▁▁▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
Time
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2022.00
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:right;">
2022
</td>
<td style="text-align:left;">
▁▁▇▁▁
</td>
</tr>
</tbody>

</table>
</div>
</div>
</section>
<section id="inspect-values" class="level4">
<h4 class="anchored" data-anchor-id="inspect-values"><strong>3.2.1.3 inspect values</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pop_attribute<span class="sc">$</span>Time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2022</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pop_attribute<span class="sc">$</span>TOD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "HDB 1- and 2-Room Flats"                
[2] "HDB 3-Room Flats"                       
[3] "HDB 4-Room Flats"                       
[4] "HDB 5-Room and Executive Flats"         
[5] "HUDC Flats (excluding those privatised)"
[6] "Condominiums and Other Apartments"      
[7] "Landed Properties"                      
[8] "Others"                                 </code></pre>
</div>
</div>
<p>Remarks :</p>
<p>Can remove “SZ”, “Time” and “TOD” fields as they are not needed for age-sex population pyramids.</p>
</section>
</div>
</div>
</div>
</section>
</section>
<section id="data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="data-wrangling"><strong>3.3 Data Wrangling</strong></h2>
<section id="change-field-names-to-lowercase" class="level3">
<h3 class="anchored" data-anchor-id="change-field-names-to-lowercase"><strong>3.3.1 Change Field Names to Lowercase</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>To avoid confusion between field names used in data and discussions, change all fields’ name to lowercase.</p>
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>tolower( )</em></strong> - quanteda -</span> to convert fields’ name into lower case.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(pop_attribute) <span class="ot">&lt;-</span> <span class="fu">tolower</span>(<span class="fu">names</span>(pop_attribute))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="remove-non-alphameric-character" class="level3">
<h3 class="anchored" data-anchor-id="remove-non-alphameric-character"><strong>3.3.2 Remove Non-Alphameric Character</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>There are special character such as “_” among the Age Groups’ values.</p>
<p>Unable to use str_sub( ) function from stringr package as the position of “_” is varied among values.</p>
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>gsub( )</em></strong> - base -</span> to replace “_” with space ” “.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>pop_attribute<span class="sc">$</span>ag <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"_"</span>, </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                         <span class="st">" "</span>, </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                         pop_attribute<span class="sc">$</span>ag, </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">fixed =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="group-variables" class="level2">
<h2 class="anchored" data-anchor-id="group-variables"><strong>3.4 Group Variables</strong></h2>
<p>Before grouping the entire data frame, first tested with a single Planning Area.</p>
<section id="explore-with-a-planning-area-bedok" class="level3">
<h3 class="anchored" data-anchor-id="explore-with-a-planning-area-bedok"><strong>3.4.1 Explore with a Planning Area :: Bedok</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>group_by( )</em></strong> - dplyr -</span> to group Singapore population by age and gender.</p>
<p><span style="color:#d46e15"><strong><em>summarise( )</em></strong> - dplyr -</span> to count the number of residents for each group.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>test0 <span class="ot">&lt;-</span> pop_attribute <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pa <span class="sc">==</span> <span class="st">"Bedok"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ag, sex) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">count_pop</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">pop</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="visualise-data" class="level3">
<h3 class="anchored" data-anchor-id="visualise-data"><strong>3.4.2 Visualise Data</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Visualise Bedok Data</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Inspect Data</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> test0,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> ag)) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span>  </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Test Age Group Distribution"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pop_attribute<span class="sc">$</span>ag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "0 to 4"      "5 to 9"      "10 to 14"    "15 to 19"    "20 to 24"   
 [6] "25 to 29"    "30 to 34"    "35 to 39"    "40 to 44"    "45 to 49"   
[11] "50 to 54"    "55 to 59"    "60 to 64"    "65 to 69"    "70 to 74"   
[16] "75 to 79"    "80 to 84"    "85 to 89"    "90 and over"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="panel-tabset">
<p>Remarks :</p>
<p>Notice the age group “5 to 9” is placed after “45 to 49” instead of placed at the 2nd value as shown under the “Inspect Data” tab.</p>
</div>
</div>
</div>
</div>
</section>
<section id="update-sequence-of-age-groups-display" class="level3">
<h3 class="anchored" data-anchor-id="update-sequence-of-age-groups-display"><strong>3.4.3 Update Sequence of Age Groups Display</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>The update will be applied to 2 datasets, at national level and Planning Areas level.</p>
<section id="for-population-pyramid-at-national-level" class="level4">
<h4 class="anchored" data-anchor-id="for-population-pyramid-at-national-level"><strong>3.4.3.1 For Population Pyramid at National Level</strong></h4>
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>arrange( )</em></strong> - dplyr -</span> to sort the rows in descending order of the counted “Returned” value of each “Sub-category”.</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>ag_sequence <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"0 to 4"</span>, <span class="st">"5 to 9"</span>, <span class="st">"10 to 14"</span>, <span class="st">"15 to 19"</span>, <span class="st">"20 to 24"</span>, <span class="st">"25 to 29"</span>, <span class="st">"30 to 34"</span>, <span class="st">"35 to 39"</span>, <span class="st">"40 to 44"</span>, <span class="st">"45 to 49"</span>, <span class="st">"50 to 54"</span>, <span class="st">"55 to 59"</span>, <span class="st">"60 to 64"</span>, <span class="st">"65 to 69"</span>, <span class="st">"70 to 74"</span>, <span class="st">"75 to 79"</span>, <span class="st">"80 to 84"</span>, <span class="st">"85 to 89"</span>, <span class="st">"90 and over"</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>pop_sgp <span class="ot">&lt;-</span> pop_attribute <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ag, sex) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">count_pop</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">pop</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ag =</span> <span class="fu">factor</span>(ag, <span class="at">levels =</span> ag_sequence)) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(ag) <span class="sc">%&gt;%</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>pop_sgp <span class="ot">&lt;-</span> pop_sgp <span class="sc">%&gt;%</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> scales<span class="sc">::</span><span class="fu">percent</span>((count_pop<span class="sc">/</span><span class="fu">sum</span>(count_pop)), <span class="at">accuracy =</span> <span class="fl">0.01</span>),</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">res =</span> <span class="fu">str_c</span>(count_pop, <span class="st">", "</span>, pct))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="for-population-pyramid-at-planning-area-level" class="level4">
<h4 class="anchored" data-anchor-id="for-population-pyramid-at-planning-area-level"><strong>3.4.3.2</strong> <strong>For Population Pyramid at Planning Area level</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>ag_sequence <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"0 to 4"</span>, <span class="st">"5 to 9"</span>, <span class="st">"10 to 14"</span>, <span class="st">"15 to 19"</span>, <span class="st">"20 to 24"</span>, <span class="st">"25 to 29"</span>, <span class="st">"30 to 34"</span>, <span class="st">"35 to 39"</span>, <span class="st">"40 to 44"</span>, <span class="st">"45 to 49"</span>, <span class="st">"50 to 54"</span>, <span class="st">"55 to 59"</span>, <span class="st">"60 to 64"</span>, <span class="st">"65 to 69"</span>, <span class="st">"70 to 74"</span>, <span class="st">"75 to 79"</span>, <span class="st">"80 to 84"</span>, <span class="st">"85 to 89"</span>, <span class="st">"90 and over"</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>pop_pa <span class="ot">&lt;-</span> pop_attribute <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pa, ag, sex) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">count_pop</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">pop</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ag =</span> <span class="fu">factor</span>(ag, <span class="at">levels =</span> ag_sequence)) <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(ag) <span class="sc">%&gt;%</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>pop_pa <span class="ot">&lt;-</span> pop_pa <span class="sc">%&gt;%</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> scales<span class="sc">::</span><span class="fu">percent</span>((count_pop<span class="sc">/</span><span class="fu">sum</span>(count_pop)), <span class="at">accuracy =</span> <span class="fl">0.01</span>),</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">res =</span> <span class="fu">str_c</span>(count_pop, <span class="st">", "</span>, pct))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</div>
</div>
</div>
</section>
</section>
<section id="create-9-planning-areas-data-set" class="level2">
<h2 class="anchored" data-anchor-id="create-9-planning-areas-data-set"><strong>3.5 Create 9 Planning Areas Data Set</strong></h2>
<section id="create-list-of-planning-areas-by-population" class="level3">
<h3 class="anchored" data-anchor-id="create-list-of-planning-areas-by-population"><strong>3.5.1 Create List of Planning Areas by Population</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>Filter top 9 Planning Areas based on the highest population.</p>
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>slice( )</em></strong> - dplyr -</span> to filter based on the first 9 rows.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>pop_paList <span class="ot">&lt;-</span> pop_attribute <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pa) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">count_pop</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">pop</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>t3 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(pop_paList, <span class="fu">desc</span>(pop_paList<span class="sc">$</span>count_pop)) <span class="sc">%&gt;%</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pa)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>t6 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(pop_paList, <span class="fu">desc</span>(pop_paList<span class="sc">$</span>count_pop)) <span class="sc">%&gt;%</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pa)</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>t9 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(pop_paList, <span class="fu">desc</span>(pop_paList<span class="sc">$</span>count_pop)) <span class="sc">%&gt;%</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">9</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pa)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>t19 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(pop_paList, <span class="fu">desc</span>(pop_paList<span class="sc">$</span>count_pop)) <span class="sc">%&gt;%</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span style="color:#d69c3c">Remarks :</span></p>
<ul>
<li><p><span style="color:#d69c3c">t19 will be used to plot 9 population pyramids.</span></p></li>
<li><p><span style="color:#d69c3c">Once t3, t6 and t9 are plotted, they will be stacked together to compare the differences with the t19 plot.</span></p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="filter-planning-areas" class="level3">
<h3 class="anchored" data-anchor-id="filter-planning-areas"><strong>3.5.2 Filter Planning Areas</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>Filter data frame based on the list of Planning Areas created in section <strong>3.5.1</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>t3_filtered <span class="ot">&lt;-</span> pop_pa <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pop_pa<span class="sc">$</span>pa <span class="sc">%in%</span> t3<span class="sc">$</span>pa) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">factor</span>(pa, </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Bedok"</span>, <span class="st">"Tampines"</span>, <span class="st">"Jurong West"</span>)))</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>t6_filtered <span class="ot">&lt;-</span> pop_pa <span class="sc">%&gt;%</span> </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pop_pa<span class="sc">$</span>pa <span class="sc">%in%</span> t6<span class="sc">$</span>pa)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>t9_filtered <span class="ot">&lt;-</span> pop_pa <span class="sc">%&gt;%</span> </span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pop_pa<span class="sc">$</span>pa <span class="sc">%in%</span> t9<span class="sc">$</span>pa)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>t19_filtered <span class="ot">&lt;-</span> pop_pa <span class="sc">%&gt;%</span> </span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pop_pa<span class="sc">$</span>pa <span class="sc">%in%</span> t19<span class="sc">$</span>pa) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="data-visualisation" class="level1">
<h1><strong>4. DATA VISUALISATION</strong></h1>
<section id="plot-pyramid-chart-static-plot" class="level2">
<h2 class="anchored" data-anchor-id="plot-pyramid-chart-static-plot"><strong>4.1 Plot Pyramid Chart (Static Plot)</strong></h2>
<section id="plot-population-pyramid-for-national-level" class="level3">
<h3 class="anchored" data-anchor-id="plot-population-pyramid-for-national-level"><strong>4.1.1 Plot Population Pyramid for National Level</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>geom_col( )</em></strong> - ggplot2 -</span> to create the bar chart with the bar length represent the actual population stats.</p>
<p><span style="color:#d46e15"><strong><em>scale_x_continuous( )</em></strong> - ggplot2 -</span> to modify the labels on the x-axis to provide better readability.</p>
<p><span style="color:#d46e15"><strong><em>ifelse( )</em></strong> - base -</span> to convert population count of Male residents to be negative, so that their data will be plotted on the left side of the pyramid.</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>popPyr_sgp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(pop_sgp, </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">ifelse</span>(sex <span class="sc">==</span> <span class="st">"Males"</span>,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">yes =</span> <span class="sc">-</span>count_pop,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">no =</span> count_pop),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">y =</span> ag,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">fill =</span> sex)) <span class="sc">+</span> </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">170000</span>, <span class="dv">170000</span>),</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">200000</span>, <span class="dv">200000</span>, <span class="dv">50000</span>), </span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">paste0</span>(</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">as.character</span>(</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">200</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">50</span>), </span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">200</span>, <span class="dv">50</span>))),</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"k"</span>)) <span class="sc">+</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">04</span>))) <span class="sc">+</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">x =</span> <span class="st">"Count of Population"</span>, </span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Age Group"</span>,</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">"Gender"</span>,</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Demographic Structure of Singapore"</span>,</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"the shape of population pyramid reflects the distribution of</span><span class="sc">\n</span><span class="st">population by age groups and genders based on dataset dated June 2022"</span>,</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Data Source : Singstat.gov.sg, June 2022"</span>) <span class="sc">+</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, </span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">colour =</span> <span class="st">"#302f2f"</span>,</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>,</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">colour =</span> <span class="st">"#424242"</span>,</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">face =</span> <span class="st">"italic"</span>,</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>,</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#424242"</span>,</span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">linewidth =</span> <span class="fl">0.3</span>),</span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, </span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">size =</span> <span class="dv">8</span>, </span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>,</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">vjust =</span> <span class="fl">1.07</span>,</span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">hjust =</span> <span class="dv">1</span>,</span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="sc">-</span><span class="dv">50</span>, <span class="at">l =</span> <span class="dv">10</span>)),</span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, </span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>),</span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>,</span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>,</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.justification =</span> <span class="st">"left"</span>,</span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>,</span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>,</span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>),</span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major.y =</span> <span class="fu">element_line</span>(<span class="at">linewidth =</span> <span class="fu">rel</span>(<span class="fl">0.5</span>)),</span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f7e9cd"</span>),</span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f7e9cd"</span>),</span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="sc">-</span><span class="dv">10</span>),</span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">linewidth =</span> <span class="fl">0.3</span>)) <span class="sc">+</span></span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> pct),</span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="fu">ifelse</span>(pop_sgp<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">"Males"</span>,</span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a>                           <span class="at">yes =</span> <span class="fl">1.2</span>, </span>
<span id="cb19-65"><a href="#cb19-65" aria-hidden="true" tabindex="-1"></a>                           <span class="at">no =</span> <span class="sc">-</span><span class="fl">0.2</span>),</span>
<span id="cb19-66"><a href="#cb19-66" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb19-67"><a href="#cb19-67" aria-hidden="true" tabindex="-1"></a>            <span class="at">check_overlap =</span> <span class="cn">FALSE</span>,</span>
<span id="cb19-68"><a href="#cb19-68" aria-hidden="true" tabindex="-1"></a>            <span class="at">colour =</span> <span class="st">"#424242"</span>) <span class="sc">+</span></span>
<span id="cb19-69"><a href="#cb19-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Males"</span> <span class="ot">=</span> <span class="st">"#FFA319FF"</span>, </span>
<span id="cb19-70"><a href="#cb19-70" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Females"</span> <span class="ot">=</span> <span class="st">"#302f2f"</span>))</span>
<span id="cb19-71"><a href="#cb19-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-72"><a href="#cb19-72" aria-hidden="true" tabindex="-1"></a>popPyr_sgp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><span style="color:#d69c3c">Remark :</span></p>
<p><span style="color:#d69c3c">The pyramid above shows the younger generation’s lower percentage, making Singapore’s population structure a constrictive type. That means an ageing population.</span></p>
<p><span style="color:#d69c3c">By June 2022, 4.07 million residents population with a median age of 42.1,</span><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> <span style="color:#d69c3c">which is approximately a 19% increase from the median age of 35.3 back in the year 2002</span><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
<p><span style="color:#d69c3c">Also, another observation is from 25 age onward, the female population is higher than the male population.</span></p>
<p><span style="color:#d69c3c">As of 2020, Singapore’s adjusted gender pay gap (GPG) is at 6%</span><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>. <span style="color:#d69c3c">Measures and new schemes may be required to further narrow the gender pay gap and encourage the birth rate or may have long-lasting socio-economic repercussions.</span></p>
</div>
</div>
</div>
</section>
<section id="plot-trellis-population-pyramid-with-wrap-facet" class="level3">
<h3 class="anchored" data-anchor-id="plot-trellis-population-pyramid-with-wrap-facet"><strong>4.1.2 Plot Trellis Population Pyramid with Wrap Facet</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>popPyr_t19.fw <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(t19_filtered, </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">ifelse</span>(sex <span class="sc">==</span> <span class="st">"Males"</span>,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">yes =</span> <span class="sc">-</span>count_pop,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">no =</span> count_pop),</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">y =</span> ag,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">fill =</span> sex),</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">width =</span> <span class="fl">0.9</span>,</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span> )) <span class="sc">+</span> </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="fl">0.04</span>, .<span class="dv">04</span>))) <span class="sc">+</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">factor</span>(pa, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Bedok"</span>, <span class="st">"Tampines"</span>, <span class="st">"Jurong West"</span>,</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Sengkang"</span>, <span class="st">"Woodlands"</span>, <span class="st">"Hougang"</span>,</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Yishun"</span>, <span class="st">"Choa Chu Kang"</span>, <span class="st">"Punggol"</span>)),</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">drop =</span> <span class="cn">FALSE</span>, </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">ncol =</span> <span class="dv">3</span>,</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">x =</span> <span class="st">"Count of Population"</span>, </span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Age Group"</span>,</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">"Gender"</span>,</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Singapore Demographic Structure - Top 9 Planning Areas by Population"</span>,</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Compare the population pyramids' shapes that shows the distribution of age groups &amp; genders based on dataset dated June 2022"</span>,</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Data Source : Singstat.gov.sg, June 2022</span><span class="sc">\n</span><span class="st">The details of the population count for each age-groups and gender are tabulated below."</span>) <span class="sc">+</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">22</span>, </span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">colour =</span> <span class="st">"#302f2f"</span>,</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">colour =</span> <span class="st">"#424242"</span>,</span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">face =</span> <span class="st">"italic"</span>,</span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">10</span>,<span class="dv">0</span>)),</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#424242"</span>,</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.background =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">linewidth =</span> <span class="fl">0.3</span>),</span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, </span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>,</span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">vjust =</span> <span class="fl">1.02</span>,</span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="sc">-</span><span class="dv">50</span>, <span class="at">l =</span> <span class="dv">20</span>)),</span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>,</span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">5</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)),</span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>,</span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="dv">8</span>)),</span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">linewidth =</span> <span class="fu">rel</span>(<span class="fl">0.5</span>)),</span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f7e9cd"</span>),</span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>,<span class="fl">0.8</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="st">"cm"</span>),</span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">linewidth =</span> <span class="fl">0.3</span>),</span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>),</span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f7e9cd"</span>),</span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="sc">-</span><span class="dv">8</span>),</span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.justification =</span> <span class="st">"left"</span>) <span class="sc">+</span></span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Males"</span> <span class="ot">=</span> <span class="st">"#FFA319FF"</span>,</span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Females"</span> <span class="ot">=</span> <span class="st">"#302f2f"</span>))</span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a>popPyr_t19.fw</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="plot-trellis-population-pyramid-with-grid-facet" class="level3">
<h3 class="anchored" data-anchor-id="plot-trellis-population-pyramid-with-grid-facet"><strong>4.1.3</strong> <strong>Plot Trellis Population Pyramid with Grid Facet</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>popPyr_t19.fg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(t19_filtered, </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">ifelse</span>(sex <span class="sc">==</span> <span class="st">"Males"</span>,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">yes =</span> <span class="sc">-</span>count_pop,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">no =</span> count_pop),</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">y =</span> ag,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">fill =</span> sex),</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">width =</span> <span class="fl">0.9</span>,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span> )) <span class="sc">+</span> </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">05</span>))) <span class="sc">+</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Males"</span> <span class="ot">=</span> <span class="st">"#FFA319FF"</span>,</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Females"</span> <span class="ot">=</span> <span class="st">"#302f2f"</span>),</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="st">"Males"</span>, <span class="st">"Females"</span>)) <span class="sc">+</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span><span class="fu">factor</span>(pa, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Bedok"</span>, <span class="st">"Tampines"</span>, <span class="st">"Jurong West"</span>,</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Sengkang"</span>, <span class="st">"Woodlands"</span>, <span class="st">"Hougang"</span>,</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Yishun"</span>, <span class="st">"Choa Chu Kang"</span>, <span class="st">"Punggol"</span>))) <span class="sc">+</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">x =</span> <span class="st">"Count of Population"</span>, </span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Age Group"</span>,</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">"Gender"</span>,</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Singapore Demographic Structure - Top 9 Planning Areas by Population"</span>,</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Compare the population pyramids' shapes that shows the distribution of age groups &amp; genders based on dataset dated June 2022"</span>,</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Data Source : Singstat.gov.sg, June 2022</span><span class="sc">\n</span><span class="st">The details of the population count for each age-groups and gender are tabulated below."</span>) <span class="sc">+</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">22</span>, </span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">colour =</span> <span class="st">"#302f2f"</span>,</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">colour =</span> <span class="st">"#424242"</span>,</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">face =</span> <span class="st">"italic"</span>,</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">10</span>,<span class="dv">0</span>)),</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#424242"</span>,</span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.background =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">linewidth =</span> <span class="fl">0.3</span>),</span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, </span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>,</span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">vjust =</span> <span class="fl">1.02</span>,</span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="sc">-</span><span class="dv">50</span>, <span class="at">l =</span> <span class="dv">20</span>)),</span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>,</span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">5</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)),</span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>,</span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="dv">8</span>)),</span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">linewidth =</span> <span class="fu">rel</span>(<span class="fl">0.5</span>)),</span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f7e9cd"</span>),</span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>,<span class="fl">0.8</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="st">"cm"</span>),</span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">linewidth =</span> <span class="fl">0.3</span>),</span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>),</span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb21-66"><a href="#cb21-66" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f7e9cd"</span>),</span>
<span id="cb21-67"><a href="#cb21-67" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="sc">-</span><span class="dv">8</span>),</span>
<span id="cb21-68"><a href="#cb21-68" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb21-69"><a href="#cb21-69" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.justification =</span> <span class="st">"left"</span>) <span class="sc">+</span></span>
<span id="cb21-70"><a href="#cb21-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Males"</span> <span class="ot">=</span> <span class="st">"#FFA319FF"</span>,</span>
<span id="cb21-71"><a href="#cb21-71" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Females"</span> <span class="ot">=</span> <span class="st">"#302f2f"</span>))</span>
<span id="cb21-72"><a href="#cb21-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-73"><a href="#cb21-73" aria-hidden="true" tabindex="-1"></a>popPyr_t19.fg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="1920"></p>
</div>
</div>
<p><span style="color:#d69c3c">Remark :</span></p>
<p><span style="color:#d69c3c">Using the same font size as the <strong>4.1.2</strong> plot, the text for this grid facet chart became smaller, which made it difficult to view. Hence, this chart will not be considered for the final submission.</span></p>
</div>
</div>
</div>
</section>
</section>
<section id="explore-other-approach" class="level2">
<h2 class="anchored" data-anchor-id="explore-other-approach"><strong>4.2 Explore Other Approach</strong></h2>
<section id="approach-1---stack-multiple-grid-facets" class="level3">
<h3 class="anchored" data-anchor-id="approach-1---stack-multiple-grid-facets"><strong>4.2.1 Approach #1 - Stack Multiple Grid Facets</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>There are 2 parts to this approach :</p>
<ul>
<li><p>1st part - plot 3 grid facets of population pyramids</p></li>
<li><p>2nd part - stack the 3 grid facets with ggarrange( ) function from ggpubr package.</p></li>
</ul>
<section id="plot-3-facet-grids" class="level4">
<h4 class="anchored" data-anchor-id="plot-3-facet-grids"><strong>4.2.1.1 plot 3 facet grids</strong></h4>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true"><strong>Top 3 PAs</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false"><strong>Between Top 4 to 6 PAs</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false"><strong>Between Top 7 to 9 PAs</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>popPyr_t3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(t3_filtered,</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">ifelse</span>(sex <span class="sc">==</span> <span class="st">"Males"</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">yes =</span> <span class="sc">-</span>count_pop,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">no =</span> count_pop),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">y =</span> ag,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">fill =</span> sex),</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">width =</span> <span class="fl">0.9</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>                    <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span> )) <span class="sc">+</span> </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">05</span>))) <span class="sc">+</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Males"</span> <span class="ot">=</span> <span class="st">"#FFA319FF"</span>,</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Females"</span> <span class="ot">=</span> <span class="st">"#302f2f"</span>)) <span class="sc">+</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span><span class="fu">factor</span>(pa, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Bedok"</span>, <span class="st">"Tampines"</span>, <span class="st">"Jurong West"</span>))) <span class="sc">+</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">13000</span>, <span class="dv">13000</span>),</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">04</span>))) <span class="sc">+</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">x =</span> <span class="st">""</span>, </span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Age Group"</span>,</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Singapore Demographic Structure - Top 9 Planning Areas by Population"</span>,</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Compare the population pyramids' shapes that shows the distribution of age groups &amp; genders based on dataset dated June 2022"</span>) <span class="sc">+</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">20</span>, </span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">colour =</span> <span class="st">"#302f2f"</span>,</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">colour =</span> <span class="st">"#424242"</span>,</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">face =</span> <span class="st">"italic"</span>),</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#424242"</span>,</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.background =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">linewidth =</span> <span class="fl">0.3</span>),</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, </span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>,</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">vjust =</span> <span class="fl">1.04</span>,</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">hjust =</span> <span class="fl">0.9</span>,</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="sc">-</span><span class="dv">40</span>, <span class="at">l =</span> <span class="dv">20</span>)),</span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, </span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>),</span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>,</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">linewidth =</span> <span class="fu">rel</span>(<span class="fl">0.5</span>)),</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f7e9cd"</span>),</span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">linewidth =</span> <span class="fl">0.3</span>),</span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.1</span>,<span class="sc">-</span><span class="fl">0.2</span>,<span class="st">"cm"</span>),</span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a>popPyr_t3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>popPyr_t6 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(t6_filtered, </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">ifelse</span>(sex <span class="sc">==</span> <span class="st">"Males"</span>,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">yes =</span> <span class="sc">-</span>count_pop,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">no =</span> count_pop),</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">y =</span> ag,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">fill =</span> sex),</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">width =</span> <span class="fl">0.9</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span> )) <span class="sc">+</span> </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">05</span>))) <span class="sc">+</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Males"</span> <span class="ot">=</span> <span class="st">"#FFA319FF"</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Females"</span> <span class="ot">=</span> <span class="st">"#302f2f"</span>)) <span class="sc">+</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span><span class="fu">factor</span>(pa, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Sengkang"</span>, <span class="st">"Woodlands"</span>, <span class="st">"Hougang"</span>))) <span class="sc">+</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">13000</span>, <span class="dv">13000</span>),</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">04</span>))) <span class="sc">+</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.background =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">linewidth =</span> <span class="fl">0.3</span>),</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>,</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">linewidth =</span> <span class="fu">rel</span>(<span class="fl">0.5</span>)),</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f7e9cd"</span>),</span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">linewidth =</span> <span class="fl">0.3</span>),</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="fl">0.1</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="st">"cm"</span>),</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>popPyr_t6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>popPyr_t9 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(t9_filtered, </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">ifelse</span>(sex <span class="sc">==</span> <span class="st">"Males"</span>,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">yes =</span> <span class="sc">-</span>count_pop,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">no =</span> count_pop),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">y =</span> ag,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">fill =</span> sex),</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">width =</span> <span class="fl">0.9</span>,</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span> )) <span class="sc">+</span> </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">05</span>))) <span class="sc">+</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Males"</span> <span class="ot">=</span> <span class="st">"#FFA319FF"</span>,</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Females"</span> <span class="ot">=</span> <span class="st">"#302f2f"</span>)) <span class="sc">+</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span><span class="fu">factor</span>(pa, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Yishun"</span>, <span class="st">"Choa Chu Kang"</span>, <span class="st">"Punggol"</span>)))<span class="sc">+</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">13000</span>, <span class="dv">13000</span>),</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">04</span>))) <span class="sc">+</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">x =</span> <span class="st">"Count of Population"</span>,</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">"Gender"</span>,</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Data Source : Singstat.gov.sg, June 2022"</span>) <span class="sc">+</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#424242"</span>,</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.background =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">linewidth =</span> <span class="fl">0.3</span>),</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, </span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>),</span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>,</span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">linewidth =</span> <span class="fu">rel</span>(<span class="fl">0.5</span>)),</span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f7e9cd"</span>),</span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">linewidth =</span> <span class="fl">0.3</span>),</span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="fl">0.1</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="st">"cm"</span>),</span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.justification =</span> <span class="st">"left"</span>,</span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb24-49"><a href="#cb24-49" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>),</span>
<span id="cb24-50"><a href="#cb24-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb24-51"><a href="#cb24-51" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>),        </span>
<span id="cb24-52"><a href="#cb24-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f7e9cd"</span>),</span>
<span id="cb24-53"><a href="#cb24-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="sc">-</span><span class="dv">10</span>),)</span>
<span id="cb24-54"><a href="#cb24-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-55"><a href="#cb24-55" aria-hidden="true" tabindex="-1"></a>popPyr_t9</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="stack-3-grid-facets-into-1-column" class="level4">
<h4 class="anchored" data-anchor-id="stack-3-grid-facets-into-1-column"><strong>4.2.1.2 stack 3 grid facets into 1 column</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>ggpubr<span class="sc">::</span><span class="fu">ggarrange</span>(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  popPyr_t3,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  popPyr_t6,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  popPyr_t9,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">align =</span> <span class="st">"v"</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
<p><span style="color:#d69c3c">Remark :</span></p>
<p><span style="color:#d69c3c">The end result of this approach is as good as the wrap facet approach in <strong>4.1.2</strong>, except there are 2 lines of gap that are unable to get rid of within the due time. When extra free time is available, will attempt to overlap them by changing the margin value.</span></p>
</section>
</div>
</div>
</div>
</section>
<section id="approach-2---patch-1-chart-with-1-data-table" class="level3">
<h3 class="anchored" data-anchor-id="approach-2---patch-1-chart-with-1-data-table"><strong>4.2.2 Approach #2 - Patch 1 chart with 1 data table</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>This approach explores using patchwork function to combine chart and table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>popPyr_t3 <span class="sc">/</span> (gridExtra<span class="sc">::</span><span class="fu">tableGrob</span>(t19_filtered[<span class="dv">1</span><span class="sc">:</span><span class="dv">342</span>, </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>                                               <span class="fu">c</span>(<span class="st">"pa"</span>, <span class="st">"ag"</span>, <span class="st">"sex"</span>, <span class="st">"count_pop"</span>)]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span style="color:#d69c3c">Remark :</span></p>
<div class="callout-warning callout callout-style-simple no-icon callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
<span style="color:#d69c3c"><strong>Issues with this approach</strong></span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><span style="color:#d69c3c">Figure height was set to 100 via #| fig-height: 100, but :</span></p>
<ul>
<li><p><span style="color:#d69c3c">the displays are overlapping.</span></p></li>
<li><p><span style="color:#d69c3c">the chart is elongated out of proportion.</span></p></li>
</ul>
<p><img src="images/image-329313405.png" class="img-fluid"></p>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="approach-3---split-data-table-to-smaller-tables-before-patch-with-1-chart" class="level3">
<h3 class="anchored" data-anchor-id="approach-3---split-data-table-to-smaller-tables-before-patch-with-1-chart"><strong>4.2.3 Approach #3 - Split data table to smaller tables before patch with 1 chart</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>Based on <strong>4.2.2</strong> approach, this attempt is to break down the table so that the layouts are more manageable.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>group_paAg <span class="ot">&lt;-</span> t19_filtered <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pa, ag) <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">id_cols =</span> <span class="fu">c</span>(pa, ag),</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">names_from =</span> sex,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> count_pop)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>table_top3 <span class="ot">&lt;-</span> group_paAg <span class="sc">%&gt;%</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pa <span class="sc">==</span> <span class="st">"Bedok"</span> <span class="sc">|</span> pa <span class="sc">==</span> <span class="st">"Tampines"</span> <span class="sc">|</span> pa <span class="sc">==</span> <span class="st">"Jurong West"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">factor</span>(pa, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Bedok"</span>, <span class="st">"Tampines"</span>, <span class="st">"Jurong West"</span>)))</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>table_top6 <span class="ot">&lt;-</span> group_paAg <span class="sc">%&gt;%</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pa <span class="sc">==</span> <span class="st">"Sengkang"</span> <span class="sc">|</span> pa <span class="sc">==</span> <span class="st">"Woodlands"</span> <span class="sc">|</span> pa <span class="sc">==</span> <span class="st">"Hougang"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">factor</span>(pa, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Sengkang"</span>, <span class="st">"Woodlands"</span>, <span class="st">"Hougang"</span>)))</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>table_top9 <span class="ot">&lt;-</span> group_paAg <span class="sc">%&gt;%</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pa <span class="sc">==</span> <span class="st">"Yishun"</span> <span class="sc">|</span> pa <span class="sc">==</span> <span class="st">"Choa Chu Kang"</span> <span class="sc">|</span> pa <span class="sc">==</span> <span class="st">"Punggol"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">factor</span>(pa, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Yishun"</span>, <span class="st">"Choa Chu Kang"</span>, <span class="st">"Punggol"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>popPyr_t3 <span class="sc">/</span> (table1_1 <span class="sc">|</span> table1_2 <span class="sc">|</span> table1_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span style="color:#d69c3c">Remark :</span></p>
<p><span style="color:#d69c3c">Below is the error message when using patchwork function to place the tables below the chart.</span></p>
<p>” <span style="color:#d69c3c">Error in FUN(left, right) : operations are possible only for numeric, logical or complex types</span> ”</p>
</div>
</div>
</div>
</section>
<section id="approach-4---same-as-approach-3-but-with-kableextra-package" class="level3">
<h3 class="anchored" data-anchor-id="approach-4---same-as-approach-3-but-with-kableextra-package"><strong>4.2.4 Approach #4 - Same as Approach #3 but with kableExtra package</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>table_display <span class="ot">&lt;-</span> <span class="fu">kable</span>(<span class="fu">list</span>(table_top3, table_top6, table_top9), <span class="st">"html"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">font_size =</span> <span class="dv">10</span>, </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">border_right =</span> T, <span class="at">background =</span> <span class="st">"#e8e3e3"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">2</span>, <span class="at">border_right =</span> T, <span class="at">background  =</span> <span class="st">"#e8e3e3"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">3</span>, <span class="at">background  =</span> <span class="st">"#e8e3e3"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scroll_box</span>(<span class="at">width =</span> <span class="st">"700px"</span>, <span class="at">height =</span> <span class="st">"200px"</span>)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>table_display</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:200px; overflow-x: scroll; width:700px; "><table class="kable_wrapper table" style="font-size: 10px; width: auto !important; margin-left: auto; margin-right: auto;">
<tbody>
  <tr>
   <td style="background-color: #e8e3e3 !important;border-right:1px solid;"> 

<table>
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> pa </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> ag </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Females </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Males </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 0 to 4 </td>
   <td style="text-align:right;"> 4970 </td>
   <td style="text-align:right;"> 5090 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 5 to 9 </td>
   <td style="text-align:right;"> 5700 </td>
   <td style="text-align:right;"> 5960 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 10 to 14 </td>
   <td style="text-align:right;"> 6220 </td>
   <td style="text-align:right;"> 6440 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 15 to 19 </td>
   <td style="text-align:right;"> 6660 </td>
   <td style="text-align:right;"> 6770 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 20 to 24 </td>
   <td style="text-align:right;"> 7310 </td>
   <td style="text-align:right;"> 7860 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 25 to 29 </td>
   <td style="text-align:right;"> 8820 </td>
   <td style="text-align:right;"> 9060 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 30 to 34 </td>
   <td style="text-align:right;"> 10050 </td>
   <td style="text-align:right;"> 9750 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 35 to 39 </td>
   <td style="text-align:right;"> 9380 </td>
   <td style="text-align:right;"> 8250 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 40 to 44 </td>
   <td style="text-align:right;"> 10330 </td>
   <td style="text-align:right;"> 8860 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 45 to 49 </td>
   <td style="text-align:right;"> 10850 </td>
   <td style="text-align:right;"> 9880 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 50 to 54 </td>
   <td style="text-align:right;"> 10170 </td>
   <td style="text-align:right;"> 9880 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 55 to 59 </td>
   <td style="text-align:right;"> 10570 </td>
   <td style="text-align:right;"> 10080 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 60 to 64 </td>
   <td style="text-align:right;"> 11070 </td>
   <td style="text-align:right;"> 10580 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 65 to 69 </td>
   <td style="text-align:right;"> 10300 </td>
   <td style="text-align:right;"> 9470 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 70 to 74 </td>
   <td style="text-align:right;"> 8710 </td>
   <td style="text-align:right;"> 7920 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 75 to 79 </td>
   <td style="text-align:right;"> 5180 </td>
   <td style="text-align:right;"> 4470 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 80 to 84 </td>
   <td style="text-align:right;"> 3750 </td>
   <td style="text-align:right;"> 2740 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 85 to 89 </td>
   <td style="text-align:right;"> 2140 </td>
   <td style="text-align:right;"> 1300 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bedok </td>
   <td style="text-align:left;"> 90 and over </td>
   <td style="text-align:right;"> 1440 </td>
   <td style="text-align:right;"> 660 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 0 to 4 </td>
   <td style="text-align:right;"> 6300 </td>
   <td style="text-align:right;"> 6540 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 5 to 9 </td>
   <td style="text-align:right;"> 6010 </td>
   <td style="text-align:right;"> 6430 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 10 to 14 </td>
   <td style="text-align:right;"> 5680 </td>
   <td style="text-align:right;"> 6210 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 15 to 19 </td>
   <td style="text-align:right;"> 5950 </td>
   <td style="text-align:right;"> 6330 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 20 to 24 </td>
   <td style="text-align:right;"> 7580 </td>
   <td style="text-align:right;"> 8040 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 25 to 29 </td>
   <td style="text-align:right;"> 10580 </td>
   <td style="text-align:right;"> 10500 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 30 to 34 </td>
   <td style="text-align:right;"> 11830 </td>
   <td style="text-align:right;"> 11690 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 35 to 39 </td>
   <td style="text-align:right;"> 9600 </td>
   <td style="text-align:right;"> 9130 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 40 to 44 </td>
   <td style="text-align:right;"> 9090 </td>
   <td style="text-align:right;"> 8450 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 45 to 49 </td>
   <td style="text-align:right;"> 8540 </td>
   <td style="text-align:right;"> 8010 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 50 to 54 </td>
   <td style="text-align:right;"> 9400 </td>
   <td style="text-align:right;"> 7910 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 55 to 59 </td>
   <td style="text-align:right;"> 10810 </td>
   <td style="text-align:right;"> 9480 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 60 to 64 </td>
   <td style="text-align:right;"> 11310 </td>
   <td style="text-align:right;"> 10350 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 65 to 69 </td>
   <td style="text-align:right;"> 9340 </td>
   <td style="text-align:right;"> 9140 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 70 to 74 </td>
   <td style="text-align:right;"> 6200 </td>
   <td style="text-align:right;"> 6140 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 75 to 79 </td>
   <td style="text-align:right;"> 3190 </td>
   <td style="text-align:right;"> 2720 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 80 to 84 </td>
   <td style="text-align:right;"> 2420 </td>
   <td style="text-align:right;"> 1550 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 85 to 89 </td>
   <td style="text-align:right;"> 1310 </td>
   <td style="text-align:right;"> 740 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Tampines </td>
   <td style="text-align:left;"> 90 and over </td>
   <td style="text-align:right;"> 890 </td>
   <td style="text-align:right;"> 300 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 0 to 4 </td>
   <td style="text-align:right;"> 4820 </td>
   <td style="text-align:right;"> 5010 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 5 to 9 </td>
   <td style="text-align:right;"> 5930 </td>
   <td style="text-align:right;"> 6230 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 10 to 14 </td>
   <td style="text-align:right;"> 6980 </td>
   <td style="text-align:right;"> 7210 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 15 to 19 </td>
   <td style="text-align:right;"> 7400 </td>
   <td style="text-align:right;"> 7860 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 20 to 24 </td>
   <td style="text-align:right;"> 8030 </td>
   <td style="text-align:right;"> 8640 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 25 to 29 </td>
   <td style="text-align:right;"> 9290 </td>
   <td style="text-align:right;"> 9590 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 30 to 34 </td>
   <td style="text-align:right;"> 9450 </td>
   <td style="text-align:right;"> 9320 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 35 to 39 </td>
   <td style="text-align:right;"> 9360 </td>
   <td style="text-align:right;"> 8370 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 40 to 44 </td>
   <td style="text-align:right;"> 10500 </td>
   <td style="text-align:right;"> 9610 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 45 to 49 </td>
   <td style="text-align:right;"> 9990 </td>
   <td style="text-align:right;"> 10260 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 50 to 54 </td>
   <td style="text-align:right;"> 9560 </td>
   <td style="text-align:right;"> 10060 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 55 to 59 </td>
   <td style="text-align:right;"> 9320 </td>
   <td style="text-align:right;"> 9990 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 60 to 64 </td>
   <td style="text-align:right;"> 8650 </td>
   <td style="text-align:right;"> 9110 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 65 to 69 </td>
   <td style="text-align:right;"> 7770 </td>
   <td style="text-align:right;"> 7830 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 70 to 74 </td>
   <td style="text-align:right;"> 5520 </td>
   <td style="text-align:right;"> 5660 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 75 to 79 </td>
   <td style="text-align:right;"> 2890 </td>
   <td style="text-align:right;"> 2670 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 80 to 84 </td>
   <td style="text-align:right;"> 1870 </td>
   <td style="text-align:right;"> 1470 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 85 to 89 </td>
   <td style="text-align:right;"> 900 </td>
   <td style="text-align:right;"> 610 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jurong West </td>
   <td style="text-align:left;"> 90 and over </td>
   <td style="text-align:right;"> 610 </td>
   <td style="text-align:right;"> 200 </td>
  </tr>
</tbody>
</table>

 </td>
   <td style="background-color: #e8e3e3 !important;border-right:1px solid;"> 

<table>
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> pa </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> ag </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Females </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Males </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 0 to 4 </td>
   <td style="text-align:right;"> 6900 </td>
   <td style="text-align:right;"> 7400 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 5 to 9 </td>
   <td style="text-align:right;"> 8380 </td>
   <td style="text-align:right;"> 8900 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 10 to 14 </td>
   <td style="text-align:right;"> 7880 </td>
   <td style="text-align:right;"> 8180 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 15 to 19 </td>
   <td style="text-align:right;"> 6940 </td>
   <td style="text-align:right;"> 7290 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 20 to 24 </td>
   <td style="text-align:right;"> 6640 </td>
   <td style="text-align:right;"> 6950 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 25 to 29 </td>
   <td style="text-align:right;"> 7570 </td>
   <td style="text-align:right;"> 7200 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 30 to 34 </td>
   <td style="text-align:right;"> 10980 </td>
   <td style="text-align:right;"> 9360 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 35 to 39 </td>
   <td style="text-align:right;"> 12520 </td>
   <td style="text-align:right;"> 10890 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 40 to 44 </td>
   <td style="text-align:right;"> 12140 </td>
   <td style="text-align:right;"> 11230 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 45 to 49 </td>
   <td style="text-align:right;"> 10600 </td>
   <td style="text-align:right;"> 10460 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 50 to 54 </td>
   <td style="text-align:right;"> 8490 </td>
   <td style="text-align:right;"> 8680 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 55 to 59 </td>
   <td style="text-align:right;"> 7520 </td>
   <td style="text-align:right;"> 7780 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 60 to 64 </td>
   <td style="text-align:right;"> 7250 </td>
   <td style="text-align:right;"> 7010 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 65 to 69 </td>
   <td style="text-align:right;"> 5830 </td>
   <td style="text-align:right;"> 5670 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 70 to 74 </td>
   <td style="text-align:right;"> 4110 </td>
   <td style="text-align:right;"> 3780 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 75 to 79 </td>
   <td style="text-align:right;"> 2290 </td>
   <td style="text-align:right;"> 1860 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 80 to 84 </td>
   <td style="text-align:right;"> 1460 </td>
   <td style="text-align:right;"> 1090 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 85 to 89 </td>
   <td style="text-align:right;"> 820 </td>
   <td style="text-align:right;"> 350 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sengkang </td>
   <td style="text-align:left;"> 90 and over </td>
   <td style="text-align:right;"> 570 </td>
   <td style="text-align:right;"> 150 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 0 to 4 </td>
   <td style="text-align:right;"> 5430 </td>
   <td style="text-align:right;"> 5670 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 5 to 9 </td>
   <td style="text-align:right;"> 5950 </td>
   <td style="text-align:right;"> 6320 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 10 to 14 </td>
   <td style="text-align:right;"> 6530 </td>
   <td style="text-align:right;"> 6860 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 15 to 19 </td>
   <td style="text-align:right;"> 7360 </td>
   <td style="text-align:right;"> 8050 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 20 to 24 </td>
   <td style="text-align:right;"> 9620 </td>
   <td style="text-align:right;"> 10390 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 25 to 29 </td>
   <td style="text-align:right;"> 10340 </td>
   <td style="text-align:right;"> 11100 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 30 to 34 </td>
   <td style="text-align:right;"> 9410 </td>
   <td style="text-align:right;"> 9450 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 35 to 39 </td>
   <td style="text-align:right;"> 8600 </td>
   <td style="text-align:right;"> 8020 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 40 to 44 </td>
   <td style="text-align:right;"> 8940 </td>
   <td style="text-align:right;"> 8310 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 45 to 49 </td>
   <td style="text-align:right;"> 9560 </td>
   <td style="text-align:right;"> 8920 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 50 to 54 </td>
   <td style="text-align:right;"> 10790 </td>
   <td style="text-align:right;"> 9790 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 55 to 59 </td>
   <td style="text-align:right;"> 10030 </td>
   <td style="text-align:right;"> 10800 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 60 to 64 </td>
   <td style="text-align:right;"> 8240 </td>
   <td style="text-align:right;"> 8880 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 65 to 69 </td>
   <td style="text-align:right;"> 5910 </td>
   <td style="text-align:right;"> 6450 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 70 to 74 </td>
   <td style="text-align:right;"> 4010 </td>
   <td style="text-align:right;"> 3940 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 75 to 79 </td>
   <td style="text-align:right;"> 2210 </td>
   <td style="text-align:right;"> 1850 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 80 to 84 </td>
   <td style="text-align:right;"> 1630 </td>
   <td style="text-align:right;"> 1200 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 85 to 89 </td>
   <td style="text-align:right;"> 800 </td>
   <td style="text-align:right;"> 500 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Woodlands </td>
   <td style="text-align:left;"> 90 and over </td>
   <td style="text-align:right;"> 440 </td>
   <td style="text-align:right;"> 210 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 0 to 4 </td>
   <td style="text-align:right;"> 4430 </td>
   <td style="text-align:right;"> 4520 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 5 to 9 </td>
   <td style="text-align:right;"> 4960 </td>
   <td style="text-align:right;"> 4880 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 10 to 14 </td>
   <td style="text-align:right;"> 4920 </td>
   <td style="text-align:right;"> 4910 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 15 to 19 </td>
   <td style="text-align:right;"> 5190 </td>
   <td style="text-align:right;"> 5410 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 20 to 24 </td>
   <td style="text-align:right;"> 6330 </td>
   <td style="text-align:right;"> 6740 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 25 to 29 </td>
   <td style="text-align:right;"> 8220 </td>
   <td style="text-align:right;"> 8460 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 30 to 34 </td>
   <td style="text-align:right;"> 9290 </td>
   <td style="text-align:right;"> 8990 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 35 to 39 </td>
   <td style="text-align:right;"> 8170 </td>
   <td style="text-align:right;"> 7390 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 40 to 44 </td>
   <td style="text-align:right;"> 7940 </td>
   <td style="text-align:right;"> 7180 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 45 to 49 </td>
   <td style="text-align:right;"> 8100 </td>
   <td style="text-align:right;"> 7680 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 50 to 54 </td>
   <td style="text-align:right;"> 8280 </td>
   <td style="text-align:right;"> 7480 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 55 to 59 </td>
   <td style="text-align:right;"> 9170 </td>
   <td style="text-align:right;"> 8940 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 60 to 64 </td>
   <td style="text-align:right;"> 9350 </td>
   <td style="text-align:right;"> 9400 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 65 to 69 </td>
   <td style="text-align:right;"> 8040 </td>
   <td style="text-align:right;"> 7990 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 70 to 74 </td>
   <td style="text-align:right;"> 5860 </td>
   <td style="text-align:right;"> 5510 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 75 to 79 </td>
   <td style="text-align:right;"> 3320 </td>
   <td style="text-align:right;"> 2900 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 80 to 84 </td>
   <td style="text-align:right;"> 2470 </td>
   <td style="text-align:right;"> 1770 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 85 to 89 </td>
   <td style="text-align:right;"> 1340 </td>
   <td style="text-align:right;"> 780 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hougang </td>
   <td style="text-align:left;"> 90 and over </td>
   <td style="text-align:right;"> 900 </td>
   <td style="text-align:right;"> 330 </td>
  </tr>
</tbody>
</table>

 </td>
   <td style="background-color: #e8e3e3 !important;"> 

<table>
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> pa </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> ag </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Females </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Males </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 0 to 4 </td>
   <td style="text-align:right;"> 5240 </td>
   <td style="text-align:right;"> 5570 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 5 to 9 </td>
   <td style="text-align:right;"> 5820 </td>
   <td style="text-align:right;"> 6100 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 10 to 14 </td>
   <td style="text-align:right;"> 5320 </td>
   <td style="text-align:right;"> 5680 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 15 to 19 </td>
   <td style="text-align:right;"> 5260 </td>
   <td style="text-align:right;"> 5570 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 20 to 24 </td>
   <td style="text-align:right;"> 6010 </td>
   <td style="text-align:right;"> 6470 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 25 to 29 </td>
   <td style="text-align:right;"> 7730 </td>
   <td style="text-align:right;"> 7760 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 30 to 34 </td>
   <td style="text-align:right;"> 9770 </td>
   <td style="text-align:right;"> 9220 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 35 to 39 </td>
   <td style="text-align:right;"> 9390 </td>
   <td style="text-align:right;"> 8440 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 40 to 44 </td>
   <td style="text-align:right;"> 8480 </td>
   <td style="text-align:right;"> 8190 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 45 to 49 </td>
   <td style="text-align:right;"> 8010 </td>
   <td style="text-align:right;"> 7720 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 50 to 54 </td>
   <td style="text-align:right;"> 7560 </td>
   <td style="text-align:right;"> 7330 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 55 to 59 </td>
   <td style="text-align:right;"> 8680 </td>
   <td style="text-align:right;"> 8180 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 60 to 64 </td>
   <td style="text-align:right;"> 8430 </td>
   <td style="text-align:right;"> 8200 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 65 to 69 </td>
   <td style="text-align:right;"> 6790 </td>
   <td style="text-align:right;"> 6670 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 70 to 74 </td>
   <td style="text-align:right;"> 4790 </td>
   <td style="text-align:right;"> 4550 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 75 to 79 </td>
   <td style="text-align:right;"> 2610 </td>
   <td style="text-align:right;"> 2140 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 80 to 84 </td>
   <td style="text-align:right;"> 1850 </td>
   <td style="text-align:right;"> 1240 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 85 to 89 </td>
   <td style="text-align:right;"> 920 </td>
   <td style="text-align:right;"> 530 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Yishun </td>
   <td style="text-align:left;"> 90 and over </td>
   <td style="text-align:right;"> 550 </td>
   <td style="text-align:right;"> 190 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 0 to 4 </td>
   <td style="text-align:right;"> 4080 </td>
   <td style="text-align:right;"> 4260 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 5 to 9 </td>
   <td style="text-align:right;"> 4510 </td>
   <td style="text-align:right;"> 4690 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 10 to 14 </td>
   <td style="text-align:right;"> 4670 </td>
   <td style="text-align:right;"> 4880 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 15 to 19 </td>
   <td style="text-align:right;"> 5310 </td>
   <td style="text-align:right;"> 5590 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 20 to 24 </td>
   <td style="text-align:right;"> 6820 </td>
   <td style="text-align:right;"> 7270 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 25 to 29 </td>
   <td style="text-align:right;"> 8250 </td>
   <td style="text-align:right;"> 8700 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 30 to 34 </td>
   <td style="text-align:right;"> 7550 </td>
   <td style="text-align:right;"> 7390 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 35 to 39 </td>
   <td style="text-align:right;"> 6530 </td>
   <td style="text-align:right;"> 6200 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 40 to 44 </td>
   <td style="text-align:right;"> 6550 </td>
   <td style="text-align:right;"> 5920 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 45 to 49 </td>
   <td style="text-align:right;"> 6760 </td>
   <td style="text-align:right;"> 6250 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 50 to 54 </td>
   <td style="text-align:right;"> 7900 </td>
   <td style="text-align:right;"> 6860 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 55 to 59 </td>
   <td style="text-align:right;"> 8270 </td>
   <td style="text-align:right;"> 8340 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 60 to 64 </td>
   <td style="text-align:right;"> 6480 </td>
   <td style="text-align:right;"> 7120 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 65 to 69 </td>
   <td style="text-align:right;"> 4780 </td>
   <td style="text-align:right;"> 5200 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 70 to 74 </td>
   <td style="text-align:right;"> 3140 </td>
   <td style="text-align:right;"> 3170 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 75 to 79 </td>
   <td style="text-align:right;"> 1690 </td>
   <td style="text-align:right;"> 1480 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 80 to 84 </td>
   <td style="text-align:right;"> 1250 </td>
   <td style="text-align:right;"> 800 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 85 to 89 </td>
   <td style="text-align:right;"> 710 </td>
   <td style="text-align:right;"> 380 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Choa Chu Kang </td>
   <td style="text-align:left;"> 90 and over </td>
   <td style="text-align:right;"> 430 </td>
   <td style="text-align:right;"> 150 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 0 to 4 </td>
   <td style="text-align:right;"> 6940 </td>
   <td style="text-align:right;"> 7090 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 5 to 9 </td>
   <td style="text-align:right;"> 7660 </td>
   <td style="text-align:right;"> 8240 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 10 to 14 </td>
   <td style="text-align:right;"> 6070 </td>
   <td style="text-align:right;"> 6700 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 15 to 19 </td>
   <td style="text-align:right;"> 4860 </td>
   <td style="text-align:right;"> 4950 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 20 to 24 </td>
   <td style="text-align:right;"> 3900 </td>
   <td style="text-align:right;"> 4170 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 25 to 29 </td>
   <td style="text-align:right;"> 4890 </td>
   <td style="text-align:right;"> 4110 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 30 to 34 </td>
   <td style="text-align:right;"> 9370 </td>
   <td style="text-align:right;"> 7330 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 35 to 39 </td>
   <td style="text-align:right;"> 11140 </td>
   <td style="text-align:right;"> 9640 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 40 to 44 </td>
   <td style="text-align:right;"> 9820 </td>
   <td style="text-align:right;"> 9630 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 45 to 49 </td>
   <td style="text-align:right;"> 7770 </td>
   <td style="text-align:right;"> 8380 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 50 to 54 </td>
   <td style="text-align:right;"> 5370 </td>
   <td style="text-align:right;"> 5890 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 55 to 59 </td>
   <td style="text-align:right;"> 4340 </td>
   <td style="text-align:right;"> 4700 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 60 to 64 </td>
   <td style="text-align:right;"> 3680 </td>
   <td style="text-align:right;"> 3570 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 65 to 69 </td>
   <td style="text-align:right;"> 3260 </td>
   <td style="text-align:right;"> 2880 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 70 to 74 </td>
   <td style="text-align:right;"> 2660 </td>
   <td style="text-align:right;"> 2190 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 75 to 79 </td>
   <td style="text-align:right;"> 1370 </td>
   <td style="text-align:right;"> 1140 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 80 to 84 </td>
   <td style="text-align:right;"> 880 </td>
   <td style="text-align:right;"> 670 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 85 to 89 </td>
   <td style="text-align:right;"> 420 </td>
   <td style="text-align:right;"> 240 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Punggol </td>
   <td style="text-align:left;"> 90 and over </td>
   <td style="text-align:right;"> 270 </td>
   <td style="text-align:right;"> 80 </td>
  </tr>
</tbody>
</table>

 </td>
  </tr>
</tbody>
</table></div>

</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>popPyr_t3 <span class="sc">/</span> table_display</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span style="color:#d69c3c">Remark :</span></p>
<p><span style="color:#d69c3c">Below is the error message when using patchwork function to place the kable tables below the chart.</span></p>
<p>” <span style="color:#d69c3c">Error in `ggplot_add()`:</span></p>
<p><span style="color:#d69c3c">! Can’t add `e2` to a &lt;ggplot&gt; object.</span> ”</p>
</div>
</div>
</div>
</section>
<section id="approach-5-combine-chart-with-ggpubr-tables" class="level3">
<h3 class="anchored" data-anchor-id="approach-5-combine-chart-with-ggpubr-tables"><strong>4.2.5 Approach #5</strong> Combine chart with ggpubr tables</h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>There are 3 parts to this approach :</p>
<ul>
<li><p>1st part - create tables with ggtexttable( ) function from the ggpubr package.</p></li>
<li><p>2nd part - align the 3 tables horizontally with ggarrange( ).</p></li>
<li><p>3rd part - place the 2nd part below the trellis plot of <strong>4.1.2</strong>.</p></li>
</ul>
<section id="create-gg-tables" class="level4">
<h4 class="anchored" data-anchor-id="create-gg-tables"><strong>4.2.5.1 create gg tables</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>table_t3 <span class="ot">&lt;-</span> <span class="fu">ggtexttable</span>(table_top3, <span class="at">rows =</span> <span class="cn">NULL</span>, <span class="at">theme =</span> <span class="fu">ttheme</span>(<span class="st">"mOrange"</span>))</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>table_t6 <span class="ot">&lt;-</span> <span class="fu">ggtexttable</span>(table_top6, <span class="at">rows =</span> <span class="cn">NULL</span>, <span class="at">theme =</span> <span class="fu">ttheme</span>(<span class="st">"mOrange"</span>))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>table_t9 <span class="ot">&lt;-</span> <span class="fu">ggtexttable</span>(table_top9, <span class="at">rows =</span> <span class="cn">NULL</span>, <span class="at">theme =</span> <span class="fu">ttheme</span>(<span class="st">"mOrange"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="align-gg-tables-horizontally" class="level4">
<h4 class="anchored" data-anchor-id="align-gg-tables-horizontally"><strong>4.2.5.2 align gg tables horizontally</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>tables <span class="ot">&lt;-</span> <span class="fu">ggarrange</span>(table_t3, table_t6, table_t9,</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">align =</span> <span class="st">"h"</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>tables</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
</section>
<section id="align-trellis-plot-with-the-tables-vertically" class="level4">
<h4 class="anchored" data-anchor-id="align-trellis-plot-with-the-tables-vertically"><strong>4.2.5.3 align trellis plot with the tables vertically</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(popPyr_t19.fw,</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>          <span class="cn">NULL</span>,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>          tables, </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">ncol =</span> <span class="dv">1</span>, </span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">nrow =</span> <span class="dv">3</span>, </span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">align =</span> <span class="st">"v"</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="fl">0.5</span>,<span class="dv">0</span>,<span class="fl">0.5</span>,<span class="dv">0</span>, <span class="st">"cm"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
<p><span style="color:#d69c3c">Remark :</span></p>
<p><span style="color:#d69c3c">To keep the readers’ focus on the chart’s context, all the x-axis values and other information details displayed in <strong>4.1.1</strong> are removed from the trellis plot. Those removed information can be referred to in the chart below.</span></p>
</section>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="makeover-submission" class="level1">
<h1><strong>5. MAKEOVER SUBMISSION</strong></h1>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>Below is the makeover output for this assignment submission.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(popPyr_t19.fw,</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>          <span class="cn">NULL</span>,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>          tables, </span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">ncol =</span> <span class="dv">1</span>, </span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">nrow =</span> <span class="dv">3</span>, </span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">align =</span> <span class="st">"v"</span>,</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">0.02</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="fl">0.5</span>,<span class="dv">0</span>,<span class="fl">0.5</span>,<span class="dv">0</span>, <span class="st">"cm"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
</div>
</div>
</div>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p><span style="color:#d69c3c">Singstat. (2022). Population Dashboard. https://www.singstat.gov.sg/find-data/search-by-theme/population/population-and-population-structure/visualising-data/population-dashboard</span><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><span style="color:#d69c3c">Singstat. (2002). Indicators On Population. https://tablebuilder.singstat.gov.sg/table/TS/M810001</span><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><span style="color:#d69c3c">Ministry of Manpower. (2020). Report: Singapore’s Adjusted Gender Pay Gap. https://stats.mom.gov.sg/Pages/Singapores-Adjusted-Gender-Pay-Gap.aspx</span><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>