<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-01-23">

<title>ISSS608 - DataViz Makeover</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-PKMQ2W4ZRC"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-PKMQ2W4ZRC', { 'anonymize_ip': true});
</script>
<script src="../../site_libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="../../styles.css">
<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands-on Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercises">    
        <li>
    <a class="dropdown-item" href="../../handsOn_ex1.html">
 <span class="dropdown-text">Ex[1] DataVis with ggplot2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../handsOn_ex2.html">
 <span class="dropdown-text">Ex[2] DataVis with Advanced ggplot2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">In-class Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercises">    
        <li>
    <a class="dropdown-item" href="https://public.tableau.com/shared/5GXCKXPQD?:display_count=n&amp;:origin=viz_share_link">
 <span class="dropdown-text">Ex[1] S &amp; P Summary with Tableau</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../inClass/inClass_ex02/inClass_ex2.html">
 <span class="dropdown-text">Ex[2] Design Enlightening Graphs with R</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take-home Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercises">    
        <li>
    <a class="dropdown-item" href="../../takeHome/th_ex1/th_ex1.html">
 <span class="dropdown-text">Ex[1] Trellis Population Pyramids</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../takeHome/th_ex2/th_ex2.html">
 <span class="dropdown-text">Ex[1] DataViz Makeover for Trellis Population Pyramids</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-workshop--notes" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Workshop &amp; Notes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-workshop--notes">    
        <li>
    <a class="dropdown-item" href="../../pnote/bsw_3.html">
 <span class="dropdown-text">BSWorkshop - Programming Statistical Graphics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/bsw_4.html">
 <span class="dropdown-text">BSWorkshop - Build Statistical Model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/bsw_5.html">
 <span class="dropdown-text">BSWorkshop - Build Predictive Model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/bsw_6.html">
 <span class="dropdown-text">BSWorkshop - Finance Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tskam.shinyapps.io/prototype-ShinyIDEA/">
 <span class="dropdown-text">Shiny Workshop - Prof’s Prototype</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/test0.html">
 <span class="dropdown-text">Exploration 0 - Explore with Geospatial Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/test1.html">
 <span class="dropdown-text">Exploration 1 - Pareto Chart</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/test2.html">
 <span class="dropdown-text">Exploration 2 - Pyramid &amp; Other Charts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/test3.html">
 <span class="dropdown-text">Exploration 3 - Interactive &amp; Animated Pyramid Chart</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/test4.html">
 <span class="dropdown-text">Exploration 4 - Interactive Heatmap Chart</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/test5.html">
 <span class="dropdown-text">Exploration 5 - Time-Series Visualisation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/note1.html">
 <span class="dropdown-text">Personal Note</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pnote/tableauNote.html">
 <span class="dropdown-text">Tableau Note</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">Profile</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">1. OVERVIEW</a>
  <ul class="collapse">
  <li><a href="#task-instruction" id="toc-task-instruction" class="nav-link" data-scroll-target="#task-instruction">1.1 Task Instruction</a></li>
  <li><a href="#scope-of-reworks" id="toc-scope-of-reworks" class="nav-link" data-scroll-target="#scope-of-reworks">1.2 Scope of Reworks</a></li>
  </ul></li>
  <li><a href="#r-package-required" id="toc-r-package-required" class="nav-link" data-scroll-target="#r-package-required">2. R PACKAGE REQUIRED</a>
  <ul class="collapse">
  <li><a href="#load-r-packages" id="toc-load-r-packages" class="nav-link" data-scroll-target="#load-r-packages">2.1 Load R Packages</a></li>
  </ul></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">3. DATA</a>
  <ul class="collapse">
  <li><a href="#acquire-data-source" id="toc-acquire-data-source" class="nav-link" data-scroll-target="#acquire-data-source">3.1 Acquire Data Source</a></li>
  <li><a href="#import-data" id="toc-import-data" class="nav-link" data-scroll-target="#import-data">3.2 Import Data</a>
  <ul class="collapse">
  <li><a href="#import-population-attributes-data" id="toc-import-population-attributes-data" class="nav-link" data-scroll-target="#import-population-attributes-data">3.2.1 Import Population Attributes Data</a></li>
  </ul></li>
  <li><a href="#data-wrangling" id="toc-data-wrangling" class="nav-link" data-scroll-target="#data-wrangling"><strong>3.3 Data Wrangling</strong></a>
  <ul class="collapse">
  <li><a href="#change-field-names-to-lowercase" id="toc-change-field-names-to-lowercase" class="nav-link" data-scroll-target="#change-field-names-to-lowercase"><strong>3.3.1 Change Field Names to Lowercase</strong></a></li>
  <li><a href="#remove-non-alphameric-character" id="toc-remove-non-alphameric-character" class="nav-link" data-scroll-target="#remove-non-alphameric-character"><strong>3.3.2 Remove Non-Alphameric Character</strong></a></li>
  </ul></li>
  <li><a href="#create-data-frame-for-population-pyramids-plot" id="toc-create-data-frame-for-population-pyramids-plot" class="nav-link" data-scroll-target="#create-data-frame-for-population-pyramids-plot">3.4 Create Data Frame for Population Pyramids Plot</a>
  <ul class="collapse">
  <li><a href="#explore-with-single-planning-area" id="toc-explore-with-single-planning-area" class="nav-link" data-scroll-target="#explore-with-single-planning-area">3.4.1 Explore with Single Planning Area</a></li>
  </ul></li>
  <li><a href="#create-9-planning-areas-data-set" id="toc-create-9-planning-areas-data-set" class="nav-link" data-scroll-target="#create-9-planning-areas-data-set"><strong>3.5 Create 9 Planning Areas Data Set</strong></a>
  <ul class="collapse">
  <li><a href="#identify-top-9-planning-areas" id="toc-identify-top-9-planning-areas" class="nav-link" data-scroll-target="#identify-top-9-planning-areas"><strong>3.5.1 Identify Top 9 Planning Areas</strong></a></li>
  <li><a href="#filter-top-9-filter" id="toc-filter-top-9-filter" class="nav-link" data-scroll-target="#filter-top-9-filter"><strong>3.5.2 Filter Top 9 Filter</strong></a></li>
  </ul></li>
  <li><a href="#create" id="toc-create" class="nav-link" data-scroll-target="#create">3.6 Create</a></li>
  </ul></li>
  <li><a href="#exploratory-data-analysis-eda" id="toc-exploratory-data-analysis-eda" class="nav-link" data-scroll-target="#exploratory-data-analysis-eda">4 EXPLORATORY DATA ANALYSIS (EDA)</a>
  <ul class="collapse">
  <li><a href="#plot-pyramid-chart" id="toc-plot-pyramid-chart" class="nav-link" data-scroll-target="#plot-pyramid-chart">4.1 Plot Pyramid Chart</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DataViz Makeover</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 23, 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">January 27, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="overview" class="level1">
<h1>1. OVERVIEW</h1>
<p>This study focus on make over a trellis plot of 9 population pyramids by</p>
<p>explores the <strong>Pyramid chart</strong> using <strong>ggplot2</strong> and supporting R packages.</p>
<div class="callout-tip callout callout-style-simple no-icon callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
<span style="color:#3a9c88"><strong>Challenges in wrangling the raw data :</strong></span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The age group variable, “AG”, is a character data type.</p>
<p>If it is used to plot the population pyramid, “10_to_14” will be parsed first instead of “5_to_9” after “0_to_4 is parsed.</p>
<p>Because of that, the order in the chart will be incorrect.</p>
<p><span style="color:#d69c3c">Resolve manually with these functions - <em>mutate( )</em> and <em>arrange( )</em>.</span></p>
</div>
</div>
</div>
<section id="task-instruction" class="level2">
<h2 class="anchored" data-anchor-id="task-instruction">1.1 Task Instruction</h2>
<p>I am curious to see the different approaches you all take.The purpose of the makeover is to improve on the original visualisation. Focus on what works, what doesn’t work, why those things don’t work, and how you made it better. You should try stick to the fields in the data set provided and improve upon the original visualisation. However, if supplementing the data helps you tell a better story, go for it!</p>
<p>==========</p>
<p>In this take-home exercise, you are required to:</p>
<ul>
<li><p>select one of the Take-home Exercise 1 prepared by your classmate,</p></li>
<li><p>critic the submission in terms of clarity and aesthetics,</p></li>
<li><p>prepare a sketch for the alternative design by using the data visualisation design principles and best practices you had learned in Lesson 1 and 2, and</p></li>
<li><p>remake the original design by using ggplot2, ggplot2 extensions and tidyverse packages.</p></li>
</ul>
<p>The purpose of DataVis Makeover is to improve on the original visualisation. Focus on what works, what doesn’t work, why those things don’t work, and how you made it better. You should try stick to the fields in the data set provided and improve upon the original visualisation.</p>
<p>submission instructions</p>
<p>This is an individual assignment. You are required to work on the take-home exercises and prepare submission individually.</p>
<p>The specific submission instructions are as follows:</p>
<ul>
<li><p>The analytical visualisation must be prepared by using <strong>R and appropriate R packages</strong>.</p></li>
<li><p>The write-up of the take-home exercise must be in <strong>Quarto html document</strong> format. You are required to publish the write-up on <a href="https://www.netlify.com/"><strong>Netlify</strong></a>.</p></li>
<li><p>Provide the links to the Take-home Exercise write-up and github repository onto eLearn (i.e.&nbsp;Take-home Exercise section)</p></li>
</ul>
</section>
<section id="scope-of-reworks" class="level2">
<h2 class="anchored" data-anchor-id="scope-of-reworks">1.2 Scope of Reworks</h2>
<p>With consent given by fellow coursemate, <a href="https://public.tableau.com/app/profile/yiman.chen/viz/takehome_ex01/Story1">Chen Yi Man</a>, below is my draft to refine her works with R Studio and Tidyverse, sf and tmap packages.</p>
</section>
</section>
<section id="r-package-required" class="level1">
<h1>2. R PACKAGE REQUIRED</h1>
<p>The following are the packages required for this exercise :</p>
<section id="load-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="load-r-packages">2.1 Load R Packages</h2>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>p_load( )</em></strong> - pacman -</span> to load packages into R environment. This function will attempt to install the package from CRAN or pacman repository list if it is not installed.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, readxl, knitr, plotly, skimr, questionr, funModeling, ggplot2, sf, tmap, quanteda, NLP)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><span style="color:#d69c3c">Remarks :</span></p>
</div>
</div>
</div>
</section>
</section>
<section id="data" class="level1 page-columns page-full">
<h1>3. DATA</h1>
<section id="acquire-data-source" class="level2">
<h2 class="anchored" data-anchor-id="acquire-data-source">3.1 Acquire Data Source</h2>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>This study will be based on demographic data set downloadable from <a href="https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data">Singstat.gov.sg</a>.</p>
<ul>
<li>Download “Singapore Residents by Planning Area Subzone, Age Group, Sex and Type of Dwelling, June 2022” in CSV format.</li>
</ul>
<div class="callout-tip callout callout-style-simple no-icon callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
<span style="color:#3a9c88"><strong>Highlights of the data set</strong></span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Data may not add up due to rounding.</p></li>
<li><p>For June 2022, Planning Areas refer to areas demarcated in the Urban Redevelopment Authority’s Master Plan 2019.</p></li>
<li><p>Data from 2003 onwards exclude residents who have been away from Singapore for a continuous period of 12 months or longer as at the reference period.</p></li>
<li><p>Metadata :</p>
<ul>
<li><p>PA = Planning Area</p></li>
<li><p>SZ = Subzone</p></li>
<li><p>AG = Age Group</p></li>
<li><p>Sex = Sex</p></li>
<li><p>TOD = Type of Dwelling</p></li>
<li><p>Pop = Resident Count</p></li>
<li><p>Time - Time / Period</p></li>
</ul></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<ul>
<li><p>Singstat Dataset for Population</p>
<ol type="1">
<li>Download “Singapore Residents by Planning Area Subzone, Age Group, Sex and Type of Dwelling, June 2022” <a href="https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data">dataset</a> in csv format from Singstat.gov.sg.</li>
</ol></li>
</ul>
<p>Master Plan 2014 Planning Area Boundary. Web version instead of Sea version.</p>
<p>Data</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">Source(s)</th>
<th>Urban Redevelopment Authority</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Licence</td>
<td><a href="https://data.gov.sg/open-data-licence">Singapore Open Data Licence</a></td>
</tr>
</tbody>
</table>
<p>https://data.gov.sg/dataset/master-plan-2014-planning-area-boundary-web</p>
</section>
<section id="import-data" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="import-data">3.2 Import Data</h2>
<section id="import-population-attributes-data" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="import-population-attributes-data">3.2.1 Import Population Attributes Data</h3>
<div class="callout-warning column-page-right callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>Two (2) steps : import and inspect imported data set.</p>
<section id="import-data-1" class="level4">
<h4 class="anchored" data-anchor-id="import-data-1">3.2.1.1 import data</h4>
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>read_csv( )</em></strong> - readr -</span> to read CSV file into a tibble.</p>
<p><span style="color:#d46e15"><strong><em>problems( )</em></strong> - readr -</span> to reveal any parsing errors when importing the CSV file.</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pop_attribute <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/aspatial/respopagesextod2022.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 100928 Columns: 7
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (5): PA, SZ, AG, Sex, TOD
dbl (2): Pop, Time

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">problems</span>(pop_attribute)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 5
# … with 5 variables: row &lt;int&gt;, col &lt;int&gt;, expected &lt;chr&gt;, actual &lt;chr&gt;,
#   file &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="inspect-missing-value" class="level4">
<h4 class="anchored" data-anchor-id="inspect-missing-value">3.2.1.2 inspect missing value</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(pop_attribute)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">pop_attribute</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">100928</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 19%">
<col style="width: 13%">
<col style="width: 19%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PA</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">SZ</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">332</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AG</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sex</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TOD</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 16%">
<col style="width: 11%">
<col style="width: 16%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Pop</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">40.44</td>
<td style="text-align: right;">125.73</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">2300</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">Time</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2022.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2022</td>
<td style="text-align: right;">2022</td>
<td style="text-align: right;">2022</td>
<td style="text-align: right;">2022</td>
<td style="text-align: right;">2022</td>
<td style="text-align: left;">▁▁▇▁▁</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><span style="color:#d69c3c">Remarks :</span></p>
<p><span style="color:#d69c3c">Preliminary data interpretation - based on 2022 consensus data, .</span></p>
</section>
<section id="inspect-values" class="level4">
<h4 class="anchored" data-anchor-id="inspect-values">3.2.1.3 inspect values</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pop_attribute<span class="sc">$</span>Time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2022</code></pre>
</div>
</div>
<p>Remarks :</p>
<p>Can remove “SZ”, “Time” and “TOD” fields as they are not needed for age-sex population pyramids.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pop_attribute<span class="sc">$</span>TOD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "HDB 1- and 2-Room Flats"                
[2] "HDB 3-Room Flats"                       
[3] "HDB 4-Room Flats"                       
[4] "HDB 5-Room and Executive Flats"         
[5] "HUDC Flats (excluding those privatised)"
[6] "Condominiums and Other Apartments"      
[7] "Landed Properties"                      
[8] "Others"                                 </code></pre>
</div>
</div>
</section>
</div>
</div>
</div>
</section>
</section>
<section id="data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="data-wrangling"><strong>3.3 Data Wrangling</strong></h2>
<section id="change-field-names-to-lowercase" class="level3">
<h3 class="anchored" data-anchor-id="change-field-names-to-lowercase"><strong>3.3.1 Change Field Names to Lowercase</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>To avoid confusion between field names used in data and discussions, change all fields’ name to lowercase.</p>
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>tolower( )</em></strong> - quanteda -</span> to convert fields’ name into lower case.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(pop_attribute) <span class="ot">&lt;-</span> <span class="fu">tolower</span>(<span class="fu">names</span>(pop_attribute))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="remove-non-alphameric-character" class="level3">
<h3 class="anchored" data-anchor-id="remove-non-alphameric-character"><strong>3.3.2 Remove Non-Alphameric Character</strong></h3>
<p>There are special character such as “_” among Age Groups’ value.</p>
<p>Unable to use str_sub( ) function from stringr package as the position of “_” is varied among values.</p>
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>gsub( )</em></strong> - base -</span> to replace “_” with space.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>pop_attribute<span class="sc">$</span>ag <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"_"</span>, </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>                         <span class="st">" "</span>, </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                         pop_attribute<span class="sc">$</span>ag, </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">fixed =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>3.3.3</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>questionr<span class="sc">::</span><span class="fu">freq</span>(pop_attribute<span class="sc">$</span>pa[(pop_attribute<span class="sc">$</span>pop <span class="sc">&gt;=</span> <span class="dv">0</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                           n   % val%
Ang Mo Kio              3648 3.6  3.6
Bedok                   2432 2.4  2.4
Bishan                   912 0.9  0.9
Boon Lay                1216 1.2  1.2
Bukit Batok             2736 2.7  2.7
Bukit Merah             5168 5.1  5.1
Bukit Panjang           2128 2.1  2.1
Bukit Timah             2432 2.4  2.4
Central Water Catchment  304 0.3  0.3
Changi                   912 0.9  0.9
Changi Bay               304 0.3  0.3
Choa Chu Kang           1824 1.8  1.8
Clementi                2736 2.7  2.7
Downtown Core           3952 3.9  3.9
Geylang                 1520 1.5  1.5
Hougang                 3040 3.0  3.0
Jurong East             3344 3.3  3.3
Jurong West             2736 2.7  2.7
Kallang                 2736 2.7  2.7
Lim Chu Kang             304 0.3  0.3
Mandai                   912 0.9  0.9
Marina East              304 0.3  0.3
Marina South             304 0.3  0.3
Marine Parade           1520 1.5  1.5
Museum                   912 0.9  0.9
Newton                  1824 1.8  1.8
North-Eastern Islands    304 0.3  0.3
Novena                  1520 1.5  1.5
Orchard                  912 0.9  0.9
Outram                  1216 1.2  1.2
Pasir Ris               2432 2.4  2.4
Paya Lebar              1520 1.5  1.5
Pioneer                 1520 1.5  1.5
Punggol                 2128 2.1  2.1
Queenstown              4560 4.5  4.5
River Valley            1520 1.5  1.5
Rochor                  3040 3.0  3.0
Seletar                 1216 1.2  1.2
Sembawang               2736 2.7  2.7
Sengkang                2128 2.1  2.1
Serangoon               2128 2.1  2.1
Simpang                 1216 1.2  1.2
Singapore River          912 0.9  0.9
Southern Islands         608 0.6  0.6
Straits View             304 0.3  0.3
Sungei Kadut            1520 1.5  1.5
Tampines                1520 1.5  1.5
Tanglin                 1216 1.2  1.2
Tengah                  1824 1.8  1.8
Toa Payoh               3648 3.6  3.6
Tuas                    1824 1.8  1.8
Western Islands          912 0.9  0.9
Western Water Catchment  912 0.9  0.9
Woodlands               2736 2.7  2.7
Yishun                  2736 2.7  2.7</code></pre>
</div>
</div>
</section>
</section>
<section id="create-data-frame-for-population-pyramids-plot" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="create-data-frame-for-population-pyramids-plot">3.4 Create Data Frame for Population Pyramids Plot</h2>
<section id="explore-with-single-planning-area" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="explore-with-single-planning-area">3.4.1 Explore with Single Planning Area</h3>
<div class="callout-warning column-page-right callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>group_by( )</em></strong> - dplyr -</span> to group Singapore population by age and gender.</p>
<p><span style="color:#d46e15"><strong><em>summarise( )</em></strong> - dplyr -</span> to count the number of residents for each group.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>test0 <span class="ot">&lt;-</span> pop_attribute <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pa <span class="sc">==</span> <span class="st">"Bedok"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ag, sex) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">count_pop</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">pop</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'ag'. You can override using the `.groups`
argument.</code></pre>
</div>
</div>
<section id="visualise-data" class="level4">
<h4 class="anchored" data-anchor-id="visualise-data">3.4.1.1 visualise data</h4>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Visualise Bedok Data</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Inspect Data</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> test0,</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> ag)) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span>  </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Test Age Group Distribution"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pop_attribute<span class="sc">$</span>ag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "0 to 4"      "5 to 9"      "10 to 14"    "15 to 19"    "20 to 24"   
 [6] "25 to 29"    "30 to 34"    "35 to 39"    "40 to 44"    "45 to 49"   
[11] "50 to 54"    "55 to 59"    "60 to 64"    "65 to 69"    "70 to 74"   
[16] "75 to 79"    "80 to 84"    "85 to 89"    "90 and over"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="panel-tabset">
<p>Remarks :</p>
<p>Notice the age group “5 to 9” is placed after “45 to 49” instead of placed at 2nd value as shown under the “Inspect Data” tab.</p>
</div>
</section>
<section id="update-age-groups-display-sequence" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="update-age-groups-display-sequence">3.4.1.2 update age groups display sequence</h4>
<div class="callout-warning column-page-right callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>for entire singapore</p>
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>arrange( )</em></strong> - dplyr -</span> to sort the rows in descending order of the counted “Returned” value of each “Sub-category”.</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>ag_sequence <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"0 to 4"</span>, <span class="st">"5 to 9"</span>, <span class="st">"10 to 14"</span>, <span class="st">"15 to 19"</span>, <span class="st">"20 to 24"</span>, <span class="st">"25 to 29"</span>, <span class="st">"30 to 34"</span>, <span class="st">"35 to 39"</span>, <span class="st">"40 to 44"</span>, <span class="st">"45 to 49"</span>, <span class="st">"50 to 54"</span>, <span class="st">"55 to 59"</span>, <span class="st">"60 to 64"</span>, <span class="st">"65 to 69"</span>, <span class="st">"70 to 74"</span>, <span class="st">"75 to 79"</span>, <span class="st">"80 to 84"</span>, <span class="st">"85 to 89"</span>, <span class="st">"90 and over"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>pop_sgp <span class="ot">&lt;-</span> pop_attribute <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ag, sex) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">count_pop</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">pop</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ag =</span> <span class="fu">factor</span>(ag, <span class="at">levels =</span> ag_sequence)) <span class="sc">%&gt;%</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(ag) <span class="sc">%&gt;%</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'ag'. You can override using the `.groups`
argument.</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>pop_sgp <span class="ot">&lt;-</span> pop_sgp <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> scales<span class="sc">::</span><span class="fu">percent</span>((count_pop<span class="sc">/</span><span class="fu">sum</span>(count_pop)), <span class="at">accuracy =</span> <span class="fl">0.01</span>),</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">res =</span> <span class="fu">str_c</span>(count_pop, <span class="st">", "</span>, pct))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>at Planning Area level</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>ag_sequence <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"0 to 4"</span>, <span class="st">"5 to 9"</span>, <span class="st">"10 to 14"</span>, <span class="st">"15 to 19"</span>, <span class="st">"20 to 24"</span>, <span class="st">"25 to 29"</span>, <span class="st">"30 to 34"</span>, <span class="st">"35 to 39"</span>, <span class="st">"40 to 44"</span>, <span class="st">"45 to 49"</span>, <span class="st">"50 to 54"</span>, <span class="st">"55 to 59"</span>, <span class="st">"60 to 64"</span>, <span class="st">"65 to 69"</span>, <span class="st">"70 to 74"</span>, <span class="st">"75 to 79"</span>, <span class="st">"80 to 84"</span>, <span class="st">"85 to 89"</span>, <span class="st">"90 and over"</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>pop_pa <span class="ot">&lt;-</span> pop_attribute <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pa, ag, sex) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">count_pop</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">pop</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ag =</span> <span class="fu">factor</span>(ag, <span class="at">levels =</span> ag_sequence)) <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(ag) <span class="sc">%&gt;%</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'pa', 'ag'. You can override using the
`.groups` argument.</code></pre>
</div>
</div>
<p>remarks :</p>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="create-9-planning-areas-data-set" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="create-9-planning-areas-data-set"><strong>3.5 Create 9 Planning Areas Data Set</strong></h2>
<section id="identify-top-9-planning-areas" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="identify-top-9-planning-areas"><strong>3.5.1 Identify Top 9 Planning Areas</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon page-columns page-full">
<div class="callout-body d-flex page-columns page-full">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container page-columns page-full">
<p>Based on top 9 highest population</p>
<div class="callout-warning column-page-right callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>slice( )</em></strong> - dplyr -</span> to filter based on the first 9 rows.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>t9_paPop <span class="ot">&lt;-</span> pop_attribute <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pa) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">count_pop</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">pop</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>t9 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(t9_paPop, <span class="fu">desc</span>(t9_paPop<span class="sc">$</span>count_pop)) <span class="sc">%&gt;%</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(pa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Remarks :</p>
</div>
</div>
</div>
</section>
<section id="filter-top-9-filter" class="level3">
<h3 class="anchored" data-anchor-id="filter-top-9-filter"><strong>3.5.2 Filter Top 9 Filter</strong></h3>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>t9_filtered <span class="ot">&lt;-</span> pop_pa <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pop_pa<span class="sc">$</span>pa <span class="sc">%in%</span> t9<span class="sc">$</span>pa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="create" class="level2">
<h2 class="anchored" data-anchor-id="create">3.6 Create</h2>
<div class="callout-warning callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>pop_males <span class="ot">&lt;-</span> t9_filtered <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">%in%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">c</span>(<span class="st">"Males"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> scales<span class="sc">::</span><span class="fu">percent</span>((count_pop<span class="sc">/</span><span class="fu">sum</span>(count_pop)), <span class="at">accuracy =</span> <span class="fl">0.01</span>),</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">res =</span> <span class="fu">str_c</span>(count_pop, <span class="st">", "</span>, pct))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>pop_females <span class="ot">&lt;-</span> t9_filtered <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">%in%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">c</span>(<span class="st">"Females"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pct =</span> scales<span class="sc">::</span><span class="fu">percent</span>((count_pop<span class="sc">/</span><span class="fu">sum</span>(count_pop)), <span class="at">accuracy =</span> <span class="fl">0.01</span>),</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">res =</span> <span class="fu">str_c</span>(count_pop, <span class="st">", "</span>, pct))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>test3 <span class="ot">&lt;-</span> pop_attribute <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pa, ag) <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">count_pop</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">pop</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> ag, </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> count_pop) <span class="sc">%&gt;%</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">YOUNG =</span> <span class="fu">rowSums</span>(.[<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>]) <span class="sc">+</span> </span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>           <span class="fu">rowSums</span>(.[<span class="dv">12</span>])) <span class="sc">%&gt;%</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">ECONOMY ACTIVE</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">rowSums</span>(.[<span class="dv">7</span><span class="sc">:</span><span class="dv">11</span>]) <span class="sc">+</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>           <span class="fu">rowSums</span>(.[<span class="dv">13</span><span class="sc">:</span><span class="dv">15</span>])) <span class="sc">%&gt;%</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">AGED</span><span class="st">`</span><span class="ot">=</span><span class="fu">rowSums</span>(.[<span class="dv">16</span><span class="sc">:</span><span class="dv">21</span>])) <span class="sc">%&gt;%</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">TOTAL</span><span class="st">`</span><span class="ot">=</span><span class="fu">rowSums</span>(.[<span class="dv">3</span><span class="sc">:</span><span class="dv">21</span>])) <span class="sc">%&gt;%</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">DEPENDENCY</span><span class="st">`</span> <span class="ot">=</span> (<span class="st">`</span><span class="at">YOUNG</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">AGED</span><span class="st">`</span>)<span class="sc">/</span><span class="st">`</span><span class="at">ECONOMY ACTIVE</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">PA</span><span class="st">`</span>, <span class="st">`</span><span class="at">SZ</span><span class="st">`</span>, <span class="st">`</span><span class="at">YOUNG</span><span class="st">`</span>, <span class="st">`</span><span class="at">ECONOMY ACTIVE</span><span class="st">`</span>, <span class="st">`</span><span class="at">AGED</span><span class="st">`</span>, <span class="st">`</span><span class="at">TOTAL</span><span class="st">`</span>, <span class="st">`</span><span class="at">DEPENDENCY</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="exploratory-data-analysis-eda" class="level1 page-columns page-full">
<h1>4 EXPLORATORY DATA ANALYSIS (EDA)</h1>
<section id="plot-pyramid-chart" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="plot-pyramid-chart">4.1 Plot Pyramid Chart</h2>
<section id="plot-a-single-population-pyramid-static" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="plot-a-single-population-pyramid-static"><strong>4.1.1 Plot A Single Population Pyramid (Static)</strong></h4>
<div class="callout-warning column-page-right callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div class="callout-alert callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#a39f9d">Usage of the code chunk below :</span></p>
<p><span style="color:#d46e15"><strong><em>geom_col( )</em></strong> - ggplot2 -</span> to create the bar chart with the bar length represent the actual population stats.</p>
<p><span style="color:#d46e15"><strong><em>scale_x_continuous( )</em></strong> - ggplot2 -</span> to modify the labels on the x-axis to provide better readability.</p>
<p><span style="color:#d46e15"><strong><em>ifelse( )</em></strong> - base -</span> to convert population count of Male residents to be negative, so that their data will be plotted on the left side of the pyramid.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>popPyr_sgp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(pop_sgp, </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">ifelse</span>(sex <span class="sc">==</span> <span class="st">"Males"</span>,</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">yes =</span> <span class="sc">-</span>count_pop,</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">no =</span> count_pop),</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">y =</span> ag,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">fill =</span> sex)) <span class="sc">+</span> </span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">200000</span>, <span class="dv">200000</span>, <span class="dv">50000</span>), </span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">paste0</span>(</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">as.character</span>(</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">200</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">50</span>), </span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">200</span>, <span class="dv">50</span>))),</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"k"</span>)) <span class="sc">+</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">x =</span> <span class="st">"Count of Population"</span>, </span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Age</span><span class="sc">\n</span><span class="st">Group"</span>,</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">"Gender"</span>,</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Singapore Population Pyramid 2022"</span>,</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Distribution of gender and age groups"</span>) <span class="sc">+</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, </span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">colour =</span> <span class="st">"#302f2f"</span>,</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>,</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">colour =</span> <span class="st">"#424242"</span>,</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">face =</span> <span class="st">"italic"</span>),</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">size =</span> <span class="fl">0.3</span>),</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, </span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">size =</span> <span class="dv">8</span>, </span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>),</span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, </span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>),</span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>,</span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>,</span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>,</span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">colour =</span> <span class="st">"#424242"</span>),</span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, </span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">colour =</span> <span class="st">"#302f2f"</span>),</span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">0.5</span>)),</span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#fcfbf5"</span>),</span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"#969595"</span>,</span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">size =</span> <span class="fl">0.3</span>)) <span class="sc">+</span></span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> pct),</span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="fu">ifelse</span>(pop_sgp<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">"Males"</span>,</span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a>                           <span class="at">yes =</span> <span class="fl">1.1</span>, </span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a>                           <span class="at">no =</span> <span class="sc">-</span><span class="fl">0.1</span>),</span>
<span id="cb30-51"><a href="#cb30-51" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">1.6</span>,</span>
<span id="cb30-52"><a href="#cb30-52" aria-hidden="true" tabindex="-1"></a>            <span class="at">check_overlap =</span> <span class="cn">FALSE</span>,</span>
<span id="cb30-53"><a href="#cb30-53" aria-hidden="true" tabindex="-1"></a>            <span class="at">colour =</span> <span class="st">"#5e5c5c"</span>) <span class="sc">+</span></span>
<span id="cb30-54"><a href="#cb30-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Males"</span> <span class="ot">=</span> <span class="st">"lightblue"</span>, </span>
<span id="cb30-55"><a href="#cb30-55" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Females"</span> <span class="ot">=</span> <span class="st">"lightpink"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `size` argument of `element_line()` is deprecated as of ggplot2 3.4.0.
ℹ Please use the `linewidth` argument instead.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `size` argument of `element_rect()` is deprecated as of ggplot2 3.4.0.
ℹ Please use the `linewidth` argument instead.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>popPyr_sgp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Race"</span>,</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"No. of</span><span class="sc">\n</span><span class="st">Pupils"</span>,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Primary 3 Students By Race"</span>,</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Students from a local school"</span>) <span class="sc">+</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, </span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> res),</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.9</span>) <span class="sc">+</span> </span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">210</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
</section>
<section id="plot-a-single-population-pyramid-interactive" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="plot-a-single-population-pyramid-interactive"><strong>4.1.2 Plot A Single Population Pyramid (Interactive)</strong></h4>
<div class="callout-warning column-page-right callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p><span style="color:#d69c3c">Remark :</span></p>
<p><span style="color:#d69c3c">The pyramid above shows the younger generation’s lower percentage, making Singapore’s population structure a constrictive type. That means an ageing population.</span></p>
<p><span style="color:#d69c3c">By June 2022, 4.07 million residents population with a median age of 42.1,</span><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> <span style="color:#d69c3c">which is approximately a 19% increase from the median age of 35.3 back in the year 2002</span><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
<p><span style="color:#d69c3c">Also, another observation is from 25 age onward, the female population is higher than the male population. As of 2020, Singapore’s adjusted gender pay gap (GPG) is at 6%</span><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</p>
<p><span style="color:#d69c3c">Measures and new schemes may be required to further narrow the gender pay gap and encourage the birth rate or may have long-lasting socio-economic repercussions.</span></p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(popPyr_sgp, </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">session =</span> <span class="st">"knitr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-93e0a43b30a69f9e0b44" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-93e0a43b30a69f9e0b44">{"x":{"data":[{"orientation":"v","width":[87430,98250,99700,101380,113870,140710,164050,153650,157730,157260,150430,151070,144840,126400,98790,57970,44200,23870,16100],"base":[0.55,1.55,2.55,3.55,4.55,5.55,6.55,7.55,8.55,9.55,10.55,11.55,12.55,13.55,14.55,15.55,16.55,17.55,18.55],"x":[43715,49125,49850,50690,56935,70355,82025,76825,78865,78630,75215,75535,72420,63200,49395,28985,22100,11935,8050],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   87430<br />ag: 0 to 4<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   98250<br />ag: 5 to 9<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   99700<br />ag: 10 to 14<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  101380<br />ag: 15 to 19<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  113870<br />ag: 20 to 24<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  140710<br />ag: 25 to 29<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  164050<br />ag: 30 to 34<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  153650<br />ag: 35 to 39<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  157730<br />ag: 40 to 44<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  157260<br />ag: 45 to 49<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  150430<br />ag: 50 to 54<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  151070<br />ag: 55 to 59<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  144840<br />ag: 60 to 64<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  126400<br />ag: 65 to 69<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   98790<br />ag: 70 to 74<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   57970<br />ag: 75 to 79<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   44200<br />ag: 80 to 84<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   23870<br />ag: 85 to 89<br />sex: Females","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   16100<br />ag: 90 and over<br />sex: Females"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,182,193,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Females","legendgroup":"Females","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[90930,103490,103230,105590,119750,140120,153560,137650,142600,147570,142920,149430,143770,122090,90330,48520,31280,14140,6870],"base":[0.55,1.55,2.55,3.55,4.55,5.55,6.55,7.55,8.55,9.55,10.55,11.55,12.55,13.55,14.55,15.55,16.55,17.55,18.55],"x":[-45465,-51745,-51615,-52795,-59875,-70060,-76780,-68825,-71300,-73785,-71460,-74715,-71885,-61045,-45165,-24260,-15640,-7070,-3435],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"text":["ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  -90930<br />ag: 0 to 4<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -103490<br />ag: 5 to 9<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -103230<br />ag: 10 to 14<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -105590<br />ag: 15 to 19<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -119750<br />ag: 20 to 24<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -140120<br />ag: 25 to 29<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -153560<br />ag: 30 to 34<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -137650<br />ag: 35 to 39<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -142600<br />ag: 40 to 44<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -147570<br />ag: 45 to 49<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -142920<br />ag: 50 to 54<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -149430<br />ag: 55 to 59<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -143770<br />ag: 60 to 64<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -122090<br />ag: 65 to 69<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  -90330<br />ag: 70 to 74<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  -48520<br />ag: 75 to 79<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  -31280<br />ag: 80 to 84<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  -14140<br />ag: 85 to 89<br />sex: Males","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   -6870<br />ag: 90 and over<br />sex: Males"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(173,216,230,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Males","legendgroup":"Males","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[87430,98250,99700,101380,113870,140710,164050,153650,157730,157260,150430,151070,144840,126400,98790,57970,44200,23870,16100],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["2.14%","2.41%","2.44%","2.48%","2.79%","3.45%","4.02%","3.76%","3.86%","3.85%","3.69%","3.70%","3.55%","3.10%","2.42%","1.42%","1.08%","0.58%","0.39%"],"hovertext":["ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   87430<br />ag: 0 to 4<br />sex: Females<br />pct: 2.14%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   98250<br />ag: 5 to 9<br />sex: Females<br />pct: 2.41%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   99700<br />ag: 10 to 14<br />sex: Females<br />pct: 2.44%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  101380<br />ag: 15 to 19<br />sex: Females<br />pct: 2.48%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  113870<br />ag: 20 to 24<br />sex: Females<br />pct: 2.79%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  140710<br />ag: 25 to 29<br />sex: Females<br />pct: 3.45%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  164050<br />ag: 30 to 34<br />sex: Females<br />pct: 4.02%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  153650<br />ag: 35 to 39<br />sex: Females<br />pct: 3.76%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  157730<br />ag: 40 to 44<br />sex: Females<br />pct: 3.86%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  157260<br />ag: 45 to 49<br />sex: Females<br />pct: 3.85%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  150430<br />ag: 50 to 54<br />sex: Females<br />pct: 3.69%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  151070<br />ag: 55 to 59<br />sex: Females<br />pct: 3.70%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  144840<br />ag: 60 to 64<br />sex: Females<br />pct: 3.55%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  126400<br />ag: 65 to 69<br />sex: Females<br />pct: 3.10%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   98790<br />ag: 70 to 74<br />sex: Females<br />pct: 2.42%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   57970<br />ag: 75 to 79<br />sex: Females<br />pct: 1.42%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   44200<br />ag: 80 to 84<br />sex: Females<br />pct: 1.08%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   23870<br />ag: 85 to 89<br />sex: Females<br />pct: 0.58%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   16100<br />ag: 90 and over<br />sex: Females<br />pct: 0.39%"],"textfont":{"size":6.04724409448819,"color":"rgba(94,92,92,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Females","legendgroup":"Females","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-90930,-103490,-103230,-105590,-119750,-140120,-153560,-137650,-142600,-147570,-142920,-149430,-143770,-122090,-90330,-48520,-31280,-14140,-6870],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["2.23%","2.54%","2.53%","2.59%","2.93%","3.43%","3.76%","3.37%","3.49%","3.62%","3.50%","3.66%","3.52%","2.99%","2.21%","1.19%","0.77%","0.35%","0.17%"],"hovertext":["ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  -90930<br />ag: 0 to 4<br />sex: Males<br />pct: 2.23%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -103490<br />ag: 5 to 9<br />sex: Males<br />pct: 2.54%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -103230<br />ag: 10 to 14<br />sex: Males<br />pct: 2.53%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -105590<br />ag: 15 to 19<br />sex: Males<br />pct: 2.59%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -119750<br />ag: 20 to 24<br />sex: Males<br />pct: 2.93%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -140120<br />ag: 25 to 29<br />sex: Males<br />pct: 3.43%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -153560<br />ag: 30 to 34<br />sex: Males<br />pct: 3.76%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -137650<br />ag: 35 to 39<br />sex: Males<br />pct: 3.37%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -142600<br />ag: 40 to 44<br />sex: Males<br />pct: 3.49%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -147570<br />ag: 45 to 49<br />sex: Males<br />pct: 3.62%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -142920<br />ag: 50 to 54<br />sex: Males<br />pct: 3.50%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -149430<br />ag: 55 to 59<br />sex: Males<br />pct: 3.66%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -143770<br />ag: 60 to 64<br />sex: Males<br />pct: 3.52%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop): -122090<br />ag: 65 to 69<br />sex: Males<br />pct: 2.99%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  -90330<br />ag: 70 to 74<br />sex: Males<br />pct: 2.21%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  -48520<br />ag: 75 to 79<br />sex: Males<br />pct: 1.19%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  -31280<br />ag: 80 to 84<br />sex: Males<br />pct: 0.77%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):  -14140<br />ag: 85 to 89<br />sex: Males<br />pct: 0.35%","ifelse(sex == \"Males\", yes = -count_pop, no = count_pop):   -6870<br />ag: 90 and over<br />sex: Males<br />pct: 0.17%"],"textfont":{"size":6.04724409448819,"color":"rgba(94,92,92,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Males","legendgroup":"Males","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":44.8252386882524,"r":7.30593607305936,"b":33.8065587380656,"l":109.921129099211},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(252,251,245,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"<b> Singapore Population Pyramid 2022 <\/b>","font":{"color":"rgba(48,47,47,1)","family":"","size":18.5969281859693},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-169440.5,179930.5],"tickmode":"array","ticktext":["150k","100k","50k","0k","50k","100k","150k"],"tickvals":[-150000,-100000,-50000,0,50000,100000,150000],"categoryorder":"array","categoryarray":["150k","100k","50k","0k","50k","100k","150k"],"nticks":null,"ticks":"outside","tickcolor":"rgba(150,149,149,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(66,66,66,1)","family":"","size":9.29846409298464},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"Count of Population","font":{"color":"rgba(48,47,47,1)","family":"","size":10.6268161062682}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,19.6],"tickmode":"array","ticktext":["0 to 4","5 to 9","10 to 14","15 to 19","20 to 24","25 to 29","30 to 34","35 to 39","40 to 44","45 to 49","50 to 54","55 to 59","60 to 64","65 to 69","70 to 74","75 to 79","80 to 84","85 to 89","90 and over"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"categoryorder":"array","categoryarray":["0 to 4","5 to 9","10 to 14","15 to 19","20 to 24","25 to 29","30 to 34","35 to 39","40 to 44","45 to 49","50 to 54","55 to 59","60 to 64","65 to 69","70 to 74","75 to 79","80 to 84","85 to 89","90 and over"],"nticks":null,"ticks":"outside","tickcolor":"rgba(150,149,149,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(66,66,66,1)","family":"","size":9.29846409298464},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"Age<br />Group","font":{"color":"rgba(48,47,47,1)","family":"","size":10.6268161062682}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(150,149,149,1)","width":0.398505603985056,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(66,66,66,1)","family":"","size":9.29846409298464},"title":{"text":"Gender","font":{"color":"rgba(48,47,47,1)","family":"","size":10.6268161062682}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"214c15b43927":{"x":{},"y":{},"fill":{},"type":"bar"},"214c5fc95ef":{"x":{},"y":{},"fill":{},"label":{}}},"cur_data":"214c15b43927","visdat":{"214c15b43927":["function (y) ","x"],"214c5fc95ef":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>4.1.3 <strong>Plot A Single Population Pyramid (Static)</strong></p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>popPyr_t9 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data =</span> <span class="fu">subset</span>(t9_filtered, </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>                         sex <span class="sc">==</span> <span class="st">"Males"</span>), </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x =</span> ag, </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="sc">-</span>count_pop, </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> pa), </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat =</span> <span class="st">"identity"</span>, </span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">"orange"</span>) <span class="sc">+</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data =</span> <span class="fu">subset</span>(t9_filtered, </span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>                         sex <span class="sc">==</span> <span class="st">"Females"</span>), </span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">x =</span> ag, </span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> count_pop, </span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> pa), </span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat =</span> <span class="st">"identity"</span>, </span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">150000</span>, <span class="dv">150000</span>, <span class="dv">50000</span>), </span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">paste0</span>(</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">as.character</span>(</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">150</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">50</span>), </span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">seq</span>(<span class="dv">50</span>, <span class="dv">150</span>, <span class="dv">50</span>))),</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"k"</span>)) <span class="sc">+</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>pa, <span class="at">drop =</span> <span class="cn">FALSE</span>, <span class="at">ncol =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">x =</span> <span class="st">"Population"</span>, </span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Age"</span>, </span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">'Singapore Age-Sex Population Pyramid 2022'</span>) <span class="sc">+</span></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Males"</span> <span class="ot">=</span> <span class="st">"lightblue"</span>, </span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Females"</span> <span class="ot">=</span> <span class="st">"lightpink"</span>)) </span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>popPyr_t9</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="th_ex2_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(popPyr_t9, </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">session =</span> <span class="st">"knitr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-df29bfd2406bcd78378d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-df29bfd2406bcd78378d">{"x":{"data":[{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[-5090,-5960,-6440,-6770,-7860,-9060,-9750,-8250,-8860,-9880,-9880,-10080,-10580,-9470,-7920,-4470,-2740,-1300,-660],"x":[5090,5960,6440,6770,7860,9060,9750,8250,8860,9880,9880,10080,10580,9470,7920,4470,2740,1300,660],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />-count_pop:  5090<br />pa: orange","ag: 5 to 9<br />-count_pop:  5960<br />pa: orange","ag: 10 to 14<br />-count_pop:  6440<br />pa: orange","ag: 15 to 19<br />-count_pop:  6770<br />pa: orange","ag: 20 to 24<br />-count_pop:  7860<br />pa: orange","ag: 25 to 29<br />-count_pop:  9060<br />pa: orange","ag: 30 to 34<br />-count_pop:  9750<br />pa: orange","ag: 35 to 39<br />-count_pop:  8250<br />pa: orange","ag: 40 to 44<br />-count_pop:  8860<br />pa: orange","ag: 45 to 49<br />-count_pop:  9880<br />pa: orange","ag: 50 to 54<br />-count_pop:  9880<br />pa: orange","ag: 55 to 59<br />-count_pop: 10080<br />pa: orange","ag: 60 to 64<br />-count_pop: 10580<br />pa: orange","ag: 65 to 69<br />-count_pop:  9470<br />pa: orange","ag: 70 to 74<br />-count_pop:  7920<br />pa: orange","ag: 75 to 79<br />-count_pop:  4470<br />pa: orange","ag: 80 to 84<br />-count_pop:  2740<br />pa: orange","ag: 85 to 89<br />-count_pop:  1300<br />pa: orange","ag: 90 and over<br />-count_pop:   660<br />pa: orange"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[-4260,-4690,-4880,-5590,-7270,-8700,-7390,-6200,-5920,-6250,-6860,-8340,-7120,-5200,-3170,-1480,-800,-380,-150],"x":[4260,4690,4880,5590,7270,8700,7390,6200,5920,6250,6860,8340,7120,5200,3170,1480,800,380,150],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />-count_pop:  4260<br />pa: orange","ag: 5 to 9<br />-count_pop:  4690<br />pa: orange","ag: 10 to 14<br />-count_pop:  4880<br />pa: orange","ag: 15 to 19<br />-count_pop:  5590<br />pa: orange","ag: 20 to 24<br />-count_pop:  7270<br />pa: orange","ag: 25 to 29<br />-count_pop:  8700<br />pa: orange","ag: 30 to 34<br />-count_pop:  7390<br />pa: orange","ag: 35 to 39<br />-count_pop:  6200<br />pa: orange","ag: 40 to 44<br />-count_pop:  5920<br />pa: orange","ag: 45 to 49<br />-count_pop:  6250<br />pa: orange","ag: 50 to 54<br />-count_pop:  6860<br />pa: orange","ag: 55 to 59<br />-count_pop:  8340<br />pa: orange","ag: 60 to 64<br />-count_pop:  7120<br />pa: orange","ag: 65 to 69<br />-count_pop:  5200<br />pa: orange","ag: 70 to 74<br />-count_pop:  3170<br />pa: orange","ag: 75 to 79<br />-count_pop:  1480<br />pa: orange","ag: 80 to 84<br />-count_pop:   800<br />pa: orange","ag: 85 to 89<br />-count_pop:   380<br />pa: orange","ag: 90 and over<br />-count_pop:   150<br />pa: orange"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[-4520,-4880,-4910,-5410,-6740,-8460,-8990,-7390,-7180,-7680,-7480,-8940,-9400,-7990,-5510,-2900,-1770,-780,-330],"x":[4520,4880,4910,5410,6740,8460,8990,7390,7180,7680,7480,8940,9400,7990,5510,2900,1770,780,330],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />-count_pop:  4520<br />pa: orange","ag: 5 to 9<br />-count_pop:  4880<br />pa: orange","ag: 10 to 14<br />-count_pop:  4910<br />pa: orange","ag: 15 to 19<br />-count_pop:  5410<br />pa: orange","ag: 20 to 24<br />-count_pop:  6740<br />pa: orange","ag: 25 to 29<br />-count_pop:  8460<br />pa: orange","ag: 30 to 34<br />-count_pop:  8990<br />pa: orange","ag: 35 to 39<br />-count_pop:  7390<br />pa: orange","ag: 40 to 44<br />-count_pop:  7180<br />pa: orange","ag: 45 to 49<br />-count_pop:  7680<br />pa: orange","ag: 50 to 54<br />-count_pop:  7480<br />pa: orange","ag: 55 to 59<br />-count_pop:  8940<br />pa: orange","ag: 60 to 64<br />-count_pop:  9400<br />pa: orange","ag: 65 to 69<br />-count_pop:  7990<br />pa: orange","ag: 70 to 74<br />-count_pop:  5510<br />pa: orange","ag: 75 to 79<br />-count_pop:  2900<br />pa: orange","ag: 80 to 84<br />-count_pop:  1770<br />pa: orange","ag: 85 to 89<br />-count_pop:   780<br />pa: orange","ag: 90 and over<br />-count_pop:   330<br />pa: orange"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[-5010,-6230,-7210,-7860,-8640,-9590,-9320,-8370,-9610,-10260,-10060,-9990,-9110,-7830,-5660,-2670,-1470,-610,-200],"x":[5010,6230,7210,7860,8640,9590,9320,8370,9610,10260,10060,9990,9110,7830,5660,2670,1470,610,200],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />-count_pop:  5010<br />pa: orange","ag: 5 to 9<br />-count_pop:  6230<br />pa: orange","ag: 10 to 14<br />-count_pop:  7210<br />pa: orange","ag: 15 to 19<br />-count_pop:  7860<br />pa: orange","ag: 20 to 24<br />-count_pop:  8640<br />pa: orange","ag: 25 to 29<br />-count_pop:  9590<br />pa: orange","ag: 30 to 34<br />-count_pop:  9320<br />pa: orange","ag: 35 to 39<br />-count_pop:  8370<br />pa: orange","ag: 40 to 44<br />-count_pop:  9610<br />pa: orange","ag: 45 to 49<br />-count_pop: 10260<br />pa: orange","ag: 50 to 54<br />-count_pop: 10060<br />pa: orange","ag: 55 to 59<br />-count_pop:  9990<br />pa: orange","ag: 60 to 64<br />-count_pop:  9110<br />pa: orange","ag: 65 to 69<br />-count_pop:  7830<br />pa: orange","ag: 70 to 74<br />-count_pop:  5660<br />pa: orange","ag: 75 to 79<br />-count_pop:  2670<br />pa: orange","ag: 80 to 84<br />-count_pop:  1470<br />pa: orange","ag: 85 to 89<br />-count_pop:   610<br />pa: orange","ag: 90 and over<br />-count_pop:   200<br />pa: orange"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[-7090,-8240,-6700,-4950,-4170,-4110,-7330,-9640,-9630,-8380,-5890,-4700,-3570,-2880,-2190,-1140,-670,-240,-80],"x":[7090,8240,6700,4950,4170,4110,7330,9640,9630,8380,5890,4700,3570,2880,2190,1140,670,240,80],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />-count_pop:  7090<br />pa: orange","ag: 5 to 9<br />-count_pop:  8240<br />pa: orange","ag: 10 to 14<br />-count_pop:  6700<br />pa: orange","ag: 15 to 19<br />-count_pop:  4950<br />pa: orange","ag: 20 to 24<br />-count_pop:  4170<br />pa: orange","ag: 25 to 29<br />-count_pop:  4110<br />pa: orange","ag: 30 to 34<br />-count_pop:  7330<br />pa: orange","ag: 35 to 39<br />-count_pop:  9640<br />pa: orange","ag: 40 to 44<br />-count_pop:  9630<br />pa: orange","ag: 45 to 49<br />-count_pop:  8380<br />pa: orange","ag: 50 to 54<br />-count_pop:  5890<br />pa: orange","ag: 55 to 59<br />-count_pop:  4700<br />pa: orange","ag: 60 to 64<br />-count_pop:  3570<br />pa: orange","ag: 65 to 69<br />-count_pop:  2880<br />pa: orange","ag: 70 to 74<br />-count_pop:  2190<br />pa: orange","ag: 75 to 79<br />-count_pop:  1140<br />pa: orange","ag: 80 to 84<br />-count_pop:   670<br />pa: orange","ag: 85 to 89<br />-count_pop:   240<br />pa: orange","ag: 90 and over<br />-count_pop:    80<br />pa: orange"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[-7400,-8900,-8180,-7290,-6950,-7200,-9360,-10890,-11230,-10460,-8680,-7780,-7010,-5670,-3780,-1860,-1090,-350,-150],"x":[7400,8900,8180,7290,6950,7200,9360,10890,11230,10460,8680,7780,7010,5670,3780,1860,1090,350,150],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />-count_pop:  7400<br />pa: orange","ag: 5 to 9<br />-count_pop:  8900<br />pa: orange","ag: 10 to 14<br />-count_pop:  8180<br />pa: orange","ag: 15 to 19<br />-count_pop:  7290<br />pa: orange","ag: 20 to 24<br />-count_pop:  6950<br />pa: orange","ag: 25 to 29<br />-count_pop:  7200<br />pa: orange","ag: 30 to 34<br />-count_pop:  9360<br />pa: orange","ag: 35 to 39<br />-count_pop: 10890<br />pa: orange","ag: 40 to 44<br />-count_pop: 11230<br />pa: orange","ag: 45 to 49<br />-count_pop: 10460<br />pa: orange","ag: 50 to 54<br />-count_pop:  8680<br />pa: orange","ag: 55 to 59<br />-count_pop:  7780<br />pa: orange","ag: 60 to 64<br />-count_pop:  7010<br />pa: orange","ag: 65 to 69<br />-count_pop:  5670<br />pa: orange","ag: 70 to 74<br />-count_pop:  3780<br />pa: orange","ag: 75 to 79<br />-count_pop:  1860<br />pa: orange","ag: 80 to 84<br />-count_pop:  1090<br />pa: orange","ag: 85 to 89<br />-count_pop:   350<br />pa: orange","ag: 90 and over<br />-count_pop:   150<br />pa: orange"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x3","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[-6540,-6430,-6210,-6330,-8040,-10500,-11690,-9130,-8450,-8010,-7910,-9480,-10350,-9140,-6140,-2720,-1550,-740,-300],"x":[6540,6430,6210,6330,8040,10500,11690,9130,8450,8010,7910,9480,10350,9140,6140,2720,1550,740,300],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />-count_pop:  6540<br />pa: orange","ag: 5 to 9<br />-count_pop:  6430<br />pa: orange","ag: 10 to 14<br />-count_pop:  6210<br />pa: orange","ag: 15 to 19<br />-count_pop:  6330<br />pa: orange","ag: 20 to 24<br />-count_pop:  8040<br />pa: orange","ag: 25 to 29<br />-count_pop: 10500<br />pa: orange","ag: 30 to 34<br />-count_pop: 11690<br />pa: orange","ag: 35 to 39<br />-count_pop:  9130<br />pa: orange","ag: 40 to 44<br />-count_pop:  8450<br />pa: orange","ag: 45 to 49<br />-count_pop:  8010<br />pa: orange","ag: 50 to 54<br />-count_pop:  7910<br />pa: orange","ag: 55 to 59<br />-count_pop:  9480<br />pa: orange","ag: 60 to 64<br />-count_pop: 10350<br />pa: orange","ag: 65 to 69<br />-count_pop:  9140<br />pa: orange","ag: 70 to 74<br />-count_pop:  6140<br />pa: orange","ag: 75 to 79<br />-count_pop:  2720<br />pa: orange","ag: 80 to 84<br />-count_pop:  1550<br />pa: orange","ag: 85 to 89<br />-count_pop:   740<br />pa: orange","ag: 90 and over<br />-count_pop:   300<br />pa: orange"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[-5670,-6320,-6860,-8050,-10390,-11100,-9450,-8020,-8310,-8920,-9790,-10800,-8880,-6450,-3940,-1850,-1200,-500,-210],"x":[5670,6320,6860,8050,10390,11100,9450,8020,8310,8920,9790,10800,8880,6450,3940,1850,1200,500,210],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />-count_pop:  5670<br />pa: orange","ag: 5 to 9<br />-count_pop:  6320<br />pa: orange","ag: 10 to 14<br />-count_pop:  6860<br />pa: orange","ag: 15 to 19<br />-count_pop:  8050<br />pa: orange","ag: 20 to 24<br />-count_pop: 10390<br />pa: orange","ag: 25 to 29<br />-count_pop: 11100<br />pa: orange","ag: 30 to 34<br />-count_pop:  9450<br />pa: orange","ag: 35 to 39<br />-count_pop:  8020<br />pa: orange","ag: 40 to 44<br />-count_pop:  8310<br />pa: orange","ag: 45 to 49<br />-count_pop:  8920<br />pa: orange","ag: 50 to 54<br />-count_pop:  9790<br />pa: orange","ag: 55 to 59<br />-count_pop: 10800<br />pa: orange","ag: 60 to 64<br />-count_pop:  8880<br />pa: orange","ag: 65 to 69<br />-count_pop:  6450<br />pa: orange","ag: 70 to 74<br />-count_pop:  3940<br />pa: orange","ag: 75 to 79<br />-count_pop:  1850<br />pa: orange","ag: 80 to 84<br />-count_pop:  1200<br />pa: orange","ag: 85 to 89<br />-count_pop:   500<br />pa: orange","ag: 90 and over<br />-count_pop:   210<br />pa: orange"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[-5570,-6100,-5680,-5570,-6470,-7760,-9220,-8440,-8190,-7720,-7330,-8180,-8200,-6670,-4550,-2140,-1240,-530,-190],"x":[5570,6100,5680,5570,6470,7760,9220,8440,8190,7720,7330,8180,8200,6670,4550,2140,1240,530,190],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />-count_pop:  5570<br />pa: orange","ag: 5 to 9<br />-count_pop:  6100<br />pa: orange","ag: 10 to 14<br />-count_pop:  5680<br />pa: orange","ag: 15 to 19<br />-count_pop:  5570<br />pa: orange","ag: 20 to 24<br />-count_pop:  6470<br />pa: orange","ag: 25 to 29<br />-count_pop:  7760<br />pa: orange","ag: 30 to 34<br />-count_pop:  9220<br />pa: orange","ag: 35 to 39<br />-count_pop:  8440<br />pa: orange","ag: 40 to 44<br />-count_pop:  8190<br />pa: orange","ag: 45 to 49<br />-count_pop:  7720<br />pa: orange","ag: 50 to 54<br />-count_pop:  7330<br />pa: orange","ag: 55 to 59<br />-count_pop:  8180<br />pa: orange","ag: 60 to 64<br />-count_pop:  8200<br />pa: orange","ag: 65 to 69<br />-count_pop:  6670<br />pa: orange","ag: 70 to 74<br />-count_pop:  4550<br />pa: orange","ag: 75 to 79<br />-count_pop:  2140<br />pa: orange","ag: 80 to 84<br />-count_pop:  1240<br />pa: orange","ag: 85 to 89<br />-count_pop:   530<br />pa: orange","ag: 90 and over<br />-count_pop:   190<br />pa: orange"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,165,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[4970,5700,6220,6660,7310,8820,10050,9380,10330,10850,10170,10570,11070,10300,8710,5180,3750,2140,1440],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />count_pop:  4970<br />pa: steelblue","ag: 5 to 9<br />count_pop:  5700<br />pa: steelblue","ag: 10 to 14<br />count_pop:  6220<br />pa: steelblue","ag: 15 to 19<br />count_pop:  6660<br />pa: steelblue","ag: 20 to 24<br />count_pop:  7310<br />pa: steelblue","ag: 25 to 29<br />count_pop:  8820<br />pa: steelblue","ag: 30 to 34<br />count_pop: 10050<br />pa: steelblue","ag: 35 to 39<br />count_pop:  9380<br />pa: steelblue","ag: 40 to 44<br />count_pop: 10330<br />pa: steelblue","ag: 45 to 49<br />count_pop: 10850<br />pa: steelblue","ag: 50 to 54<br />count_pop: 10170<br />pa: steelblue","ag: 55 to 59<br />count_pop: 10570<br />pa: steelblue","ag: 60 to 64<br />count_pop: 11070<br />pa: steelblue","ag: 65 to 69<br />count_pop: 10300<br />pa: steelblue","ag: 70 to 74<br />count_pop:  8710<br />pa: steelblue","ag: 75 to 79<br />count_pop:  5180<br />pa: steelblue","ag: 80 to 84<br />count_pop:  3750<br />pa: steelblue","ag: 85 to 89<br />count_pop:  2140<br />pa: steelblue","ag: 90 and over<br />count_pop:  1440<br />pa: steelblue"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[4080,4510,4670,5310,6820,8250,7550,6530,6550,6760,7900,8270,6480,4780,3140,1690,1250,710,430],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />count_pop:  4080<br />pa: steelblue","ag: 5 to 9<br />count_pop:  4510<br />pa: steelblue","ag: 10 to 14<br />count_pop:  4670<br />pa: steelblue","ag: 15 to 19<br />count_pop:  5310<br />pa: steelblue","ag: 20 to 24<br />count_pop:  6820<br />pa: steelblue","ag: 25 to 29<br />count_pop:  8250<br />pa: steelblue","ag: 30 to 34<br />count_pop:  7550<br />pa: steelblue","ag: 35 to 39<br />count_pop:  6530<br />pa: steelblue","ag: 40 to 44<br />count_pop:  6550<br />pa: steelblue","ag: 45 to 49<br />count_pop:  6760<br />pa: steelblue","ag: 50 to 54<br />count_pop:  7900<br />pa: steelblue","ag: 55 to 59<br />count_pop:  8270<br />pa: steelblue","ag: 60 to 64<br />count_pop:  6480<br />pa: steelblue","ag: 65 to 69<br />count_pop:  4780<br />pa: steelblue","ag: 70 to 74<br />count_pop:  3140<br />pa: steelblue","ag: 75 to 79<br />count_pop:  1690<br />pa: steelblue","ag: 80 to 84<br />count_pop:  1250<br />pa: steelblue","ag: 85 to 89<br />count_pop:   710<br />pa: steelblue","ag: 90 and over<br />count_pop:   430<br />pa: steelblue"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[4430,4960,4920,5190,6330,8220,9290,8170,7940,8100,8280,9170,9350,8040,5860,3320,2470,1340,900],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />count_pop:  4430<br />pa: steelblue","ag: 5 to 9<br />count_pop:  4960<br />pa: steelblue","ag: 10 to 14<br />count_pop:  4920<br />pa: steelblue","ag: 15 to 19<br />count_pop:  5190<br />pa: steelblue","ag: 20 to 24<br />count_pop:  6330<br />pa: steelblue","ag: 25 to 29<br />count_pop:  8220<br />pa: steelblue","ag: 30 to 34<br />count_pop:  9290<br />pa: steelblue","ag: 35 to 39<br />count_pop:  8170<br />pa: steelblue","ag: 40 to 44<br />count_pop:  7940<br />pa: steelblue","ag: 45 to 49<br />count_pop:  8100<br />pa: steelblue","ag: 50 to 54<br />count_pop:  8280<br />pa: steelblue","ag: 55 to 59<br />count_pop:  9170<br />pa: steelblue","ag: 60 to 64<br />count_pop:  9350<br />pa: steelblue","ag: 65 to 69<br />count_pop:  8040<br />pa: steelblue","ag: 70 to 74<br />count_pop:  5860<br />pa: steelblue","ag: 75 to 79<br />count_pop:  3320<br />pa: steelblue","ag: 80 to 84<br />count_pop:  2470<br />pa: steelblue","ag: 85 to 89<br />count_pop:  1340<br />pa: steelblue","ag: 90 and over<br />count_pop:   900<br />pa: steelblue"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[4820,5930,6980,7400,8030,9290,9450,9360,10500,9990,9560,9320,8650,7770,5520,2890,1870,900,610],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />count_pop:  4820<br />pa: steelblue","ag: 5 to 9<br />count_pop:  5930<br />pa: steelblue","ag: 10 to 14<br />count_pop:  6980<br />pa: steelblue","ag: 15 to 19<br />count_pop:  7400<br />pa: steelblue","ag: 20 to 24<br />count_pop:  8030<br />pa: steelblue","ag: 25 to 29<br />count_pop:  9290<br />pa: steelblue","ag: 30 to 34<br />count_pop:  9450<br />pa: steelblue","ag: 35 to 39<br />count_pop:  9360<br />pa: steelblue","ag: 40 to 44<br />count_pop: 10500<br />pa: steelblue","ag: 45 to 49<br />count_pop:  9990<br />pa: steelblue","ag: 50 to 54<br />count_pop:  9560<br />pa: steelblue","ag: 55 to 59<br />count_pop:  9320<br />pa: steelblue","ag: 60 to 64<br />count_pop:  8650<br />pa: steelblue","ag: 65 to 69<br />count_pop:  7770<br />pa: steelblue","ag: 70 to 74<br />count_pop:  5520<br />pa: steelblue","ag: 75 to 79<br />count_pop:  2890<br />pa: steelblue","ag: 80 to 84<br />count_pop:  1870<br />pa: steelblue","ag: 85 to 89<br />count_pop:   900<br />pa: steelblue","ag: 90 and over<br />count_pop:   610<br />pa: steelblue"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[6940,7660,6070,4860,3900,4890,9370,11140,9820,7770,5370,4340,3680,3260,2660,1370,880,420,270],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />count_pop:  6940<br />pa: steelblue","ag: 5 to 9<br />count_pop:  7660<br />pa: steelblue","ag: 10 to 14<br />count_pop:  6070<br />pa: steelblue","ag: 15 to 19<br />count_pop:  4860<br />pa: steelblue","ag: 20 to 24<br />count_pop:  3900<br />pa: steelblue","ag: 25 to 29<br />count_pop:  4890<br />pa: steelblue","ag: 30 to 34<br />count_pop:  9370<br />pa: steelblue","ag: 35 to 39<br />count_pop: 11140<br />pa: steelblue","ag: 40 to 44<br />count_pop:  9820<br />pa: steelblue","ag: 45 to 49<br />count_pop:  7770<br />pa: steelblue","ag: 50 to 54<br />count_pop:  5370<br />pa: steelblue","ag: 55 to 59<br />count_pop:  4340<br />pa: steelblue","ag: 60 to 64<br />count_pop:  3680<br />pa: steelblue","ag: 65 to 69<br />count_pop:  3260<br />pa: steelblue","ag: 70 to 74<br />count_pop:  2660<br />pa: steelblue","ag: 75 to 79<br />count_pop:  1370<br />pa: steelblue","ag: 80 to 84<br />count_pop:   880<br />pa: steelblue","ag: 85 to 89<br />count_pop:   420<br />pa: steelblue","ag: 90 and over<br />count_pop:   270<br />pa: steelblue"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[6900,8380,7880,6940,6640,7570,10980,12520,12140,10600,8490,7520,7250,5830,4110,2290,1460,820,570],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />count_pop:  6900<br />pa: steelblue","ag: 5 to 9<br />count_pop:  8380<br />pa: steelblue","ag: 10 to 14<br />count_pop:  7880<br />pa: steelblue","ag: 15 to 19<br />count_pop:  6940<br />pa: steelblue","ag: 20 to 24<br />count_pop:  6640<br />pa: steelblue","ag: 25 to 29<br />count_pop:  7570<br />pa: steelblue","ag: 30 to 34<br />count_pop: 10980<br />pa: steelblue","ag: 35 to 39<br />count_pop: 12520<br />pa: steelblue","ag: 40 to 44<br />count_pop: 12140<br />pa: steelblue","ag: 45 to 49<br />count_pop: 10600<br />pa: steelblue","ag: 50 to 54<br />count_pop:  8490<br />pa: steelblue","ag: 55 to 59<br />count_pop:  7520<br />pa: steelblue","ag: 60 to 64<br />count_pop:  7250<br />pa: steelblue","ag: 65 to 69<br />count_pop:  5830<br />pa: steelblue","ag: 70 to 74<br />count_pop:  4110<br />pa: steelblue","ag: 75 to 79<br />count_pop:  2290<br />pa: steelblue","ag: 80 to 84<br />count_pop:  1460<br />pa: steelblue","ag: 85 to 89<br />count_pop:   820<br />pa: steelblue","ag: 90 and over<br />count_pop:   570<br />pa: steelblue"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x3","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[6300,6010,5680,5950,7580,10580,11830,9600,9090,8540,9400,10810,11310,9340,6200,3190,2420,1310,890],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />count_pop:  6300<br />pa: steelblue","ag: 5 to 9<br />count_pop:  6010<br />pa: steelblue","ag: 10 to 14<br />count_pop:  5680<br />pa: steelblue","ag: 15 to 19<br />count_pop:  5950<br />pa: steelblue","ag: 20 to 24<br />count_pop:  7580<br />pa: steelblue","ag: 25 to 29<br />count_pop: 10580<br />pa: steelblue","ag: 30 to 34<br />count_pop: 11830<br />pa: steelblue","ag: 35 to 39<br />count_pop:  9600<br />pa: steelblue","ag: 40 to 44<br />count_pop:  9090<br />pa: steelblue","ag: 45 to 49<br />count_pop:  8540<br />pa: steelblue","ag: 50 to 54<br />count_pop:  9400<br />pa: steelblue","ag: 55 to 59<br />count_pop: 10810<br />pa: steelblue","ag: 60 to 64<br />count_pop: 11310<br />pa: steelblue","ag: 65 to 69<br />count_pop:  9340<br />pa: steelblue","ag: 70 to 74<br />count_pop:  6200<br />pa: steelblue","ag: 75 to 79<br />count_pop:  3190<br />pa: steelblue","ag: 80 to 84<br />count_pop:  2420<br />pa: steelblue","ag: 85 to 89<br />count_pop:  1310<br />pa: steelblue","ag: 90 and over<br />count_pop:   890<br />pa: steelblue"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[5430,5950,6530,7360,9620,10340,9410,8600,8940,9560,10790,10030,8240,5910,4010,2210,1630,800,440],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />count_pop:  5430<br />pa: steelblue","ag: 5 to 9<br />count_pop:  5950<br />pa: steelblue","ag: 10 to 14<br />count_pop:  6530<br />pa: steelblue","ag: 15 to 19<br />count_pop:  7360<br />pa: steelblue","ag: 20 to 24<br />count_pop:  9620<br />pa: steelblue","ag: 25 to 29<br />count_pop: 10340<br />pa: steelblue","ag: 30 to 34<br />count_pop:  9410<br />pa: steelblue","ag: 35 to 39<br />count_pop:  8600<br />pa: steelblue","ag: 40 to 44<br />count_pop:  8940<br />pa: steelblue","ag: 45 to 49<br />count_pop:  9560<br />pa: steelblue","ag: 50 to 54<br />count_pop: 10790<br />pa: steelblue","ag: 55 to 59<br />count_pop: 10030<br />pa: steelblue","ag: 60 to 64<br />count_pop:  8240<br />pa: steelblue","ag: 65 to 69<br />count_pop:  5910<br />pa: steelblue","ag: 70 to 74<br />count_pop:  4010<br />pa: steelblue","ag: 75 to 79<br />count_pop:  2210<br />pa: steelblue","ag: 80 to 84<br />count_pop:  1630<br />pa: steelblue","ag: 85 to 89<br />count_pop:   800<br />pa: steelblue","ag: 90 and over<br />count_pop:   440<br />pa: steelblue"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x2","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[5240,5820,5320,5260,6010,7730,9770,9390,8480,8010,7560,8680,8430,6790,4790,2610,1850,920,550],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"text":["ag: 0 to 4<br />count_pop:  5240<br />pa: steelblue","ag: 5 to 9<br />count_pop:  5820<br />pa: steelblue","ag: 10 to 14<br />count_pop:  5320<br />pa: steelblue","ag: 15 to 19<br />count_pop:  5260<br />pa: steelblue","ag: 20 to 24<br />count_pop:  6010<br />pa: steelblue","ag: 25 to 29<br />count_pop:  7730<br />pa: steelblue","ag: 30 to 34<br />count_pop:  9770<br />pa: steelblue","ag: 35 to 39<br />count_pop:  9390<br />pa: steelblue","ag: 40 to 44<br />count_pop:  8480<br />pa: steelblue","ag: 45 to 49<br />count_pop:  8010<br />pa: steelblue","ag: 50 to 54<br />count_pop:  7560<br />pa: steelblue","ag: 55 to 59<br />count_pop:  8680<br />pa: steelblue","ag: 60 to 64<br />count_pop:  8430<br />pa: steelblue","ag: 65 to 69<br />count_pop:  6790<br />pa: steelblue","ag: 70 to 74<br />count_pop:  4790<br />pa: steelblue","ag: 75 to 79<br />count_pop:  2610<br />pa: steelblue","ag: 80 to 84<br />count_pop:  1850<br />pa: steelblue","ag: 85 to 89<br />count_pop:   920<br />pa: steelblue","ag: 90 and over<br />count_pop:   550<br />pa: steelblue"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,130,180,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":55.4520547945205,"r":7.30593607305936,"b":40.1826484018265,"l":89.8630136986302},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Singapore Age-Sex Population Pyramid 2022","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.329256360078278],"automargin":true,"type":"linear","autorange":false,"range":[-12900.5,13730.5],"tickmode":"array","ticktext":["0k"],"tickvals":[0],"categoryorder":"array","categoryarray":["0k"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"annotations":[{"text":"Age","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.9178082191781},{"text":"Population","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-74.5205479452055},{"text":"Bedok","x":0.164628180039139,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Choa Chu Kang","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Hougang","x":0.835371819960861,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Jurong West","x":0.164628180039139,"y":0.651826484018265,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Punggol","x":0.5,"y":0.651826484018265,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Sengkang","x":0.835371819960861,"y":0.651826484018265,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Tampines","x":0.164628180039139,"y":0.318493150684932,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Woodlands","x":0.5,"y":0.318493150684932,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Yishun","x":0.835371819960861,"y":0.318493150684932,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0.681506849315069,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,19.6],"tickmode":"array","ticktext":["0 to 4","5 to 9","10 to 14","15 to 19","20 to 24","25 to 29","30 to 34","35 to 39","40 to 44","45 to 49","50 to 54","55 to 59","60 to 64","65 to 69","70 to 74","75 to 79","80 to 84","85 to 89","90 and over"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"categoryorder":"array","categoryarray":["0 to 4","5 to 9","10 to 14","15 to 19","20 to 24","25 to 29","30 to 34","35 to 39","40 to 44","45 to 49","50 to 54","55 to 59","60 to 64","65 to 69","70 to 74","75 to 79","80 to 84","85 to 89","90 and over"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.329256360078278,"y0":0.681506849315069,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.329256360078278,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.337410306588389,"x1":0.662589693411611,"y0":0.681506849315069,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.337410306588389,"x1":0.662589693411611,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.670743639921722,"x1":1,"y0":0.681506849315069,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.670743639921722,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.329256360078278,"y0":0.348173515981735,"y1":0.651826484018265},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.329256360078278,"y0":0,"y1":23.37899543379,"yanchor":0.651826484018265,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.337410306588389,"x1":0.662589693411611,"y0":0.348173515981735,"y1":0.651826484018265},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.337410306588389,"x1":0.662589693411611,"y0":0,"y1":23.37899543379,"yanchor":0.651826484018265,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.670743639921722,"x1":1,"y0":0.348173515981735,"y1":0.651826484018265},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.670743639921722,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":0.651826484018265,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.329256360078278,"y0":0,"y1":0.318493150684932},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.329256360078278,"y0":0,"y1":23.37899543379,"yanchor":0.318493150684932,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.337410306588389,"x1":0.662589693411611,"y0":0,"y1":0.318493150684932},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.337410306588389,"x1":0.662589693411611,"y0":0,"y1":23.37899543379,"yanchor":0.318493150684932,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.670743639921722,"x1":1,"y0":0,"y1":0.318493150684932},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.670743639921722,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":0.318493150684932,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[-12900.5,13730.5],"tickmode":"array","ticktext":["0k"],"tickvals":[0],"categoryorder":"array","categoryarray":["0k"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.337410306588389,0.662589693411611],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[-12900.5,13730.5],"tickmode":"array","ticktext":["0k"],"tickvals":[0],"categoryorder":"array","categoryarray":["0k"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.670743639921722,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[0.4,19.6],"tickmode":"array","ticktext":["0 to 4","5 to 9","10 to 14","15 to 19","20 to 24","25 to 29","30 to 34","35 to 39","40 to 44","45 to 49","50 to 54","55 to 59","60 to 64","65 to 69","70 to 74","75 to 79","80 to 84","85 to 89","90 and over"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"categoryorder":"array","categoryarray":["0 to 4","5 to 9","10 to 14","15 to 19","20 to 24","25 to 29","30 to 34","35 to 39","40 to 44","45 to 49","50 to 54","55 to 59","60 to 64","65 to 69","70 to 74","75 to 79","80 to 84","85 to 89","90 and over"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.348173515981735,0.651826484018265],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[0.4,19.6],"tickmode":"array","ticktext":["0 to 4","5 to 9","10 to 14","15 to 19","20 to 24","25 to 29","30 to 34","35 to 39","40 to 44","45 to 49","50 to 54","55 to 59","60 to 64","65 to 69","70 to 74","75 to 79","80 to 84","85 to 89","90 and over"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"categoryorder":"array","categoryarray":["0 to 4","5 to 9","10 to 14","15 to 19","20 to 24","25 to 29","30 to 34","35 to 39","40 to 44","45 to 49","50 to 54","55 to 59","60 to 64","65 to 69","70 to 74","75 to 79","80 to 84","85 to 89","90 and over"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.318493150684932],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"214c4fea312d":{"x":{},"y":{},"fill":{},"type":"bar"},"214c73615ed5":{"x":{},"y":{},"fill":{}}},"cur_data":"214c4fea312d","visdat":{"214c4fea312d":["function (y) ","x"],"214c73615ed5":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p><span style="color:#d69c3c">Singstat. (2022). Population Dashboard. https://www.singstat.gov.sg/find-data/search-by-theme/population/population-and-population-structure/visualising-data/population-dashboard</span><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><span style="color:#d69c3c">Singstat. (2002). Indicators On Population. https://tablebuilder.singstat.gov.sg/table/TS/M810001</span><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><span style="color:#d69c3c">Ministry of Manpower. (2020). Report: Singapore’s Adjusted Gender Pay Gap. https://stats.mom.gov.sg/Pages/Singapores-Adjusted-Gender-Pay-Gap.aspx</span><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>